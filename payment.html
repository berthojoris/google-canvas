<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Modern PWA App</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        
        /* FIX: Lock Body Scroll untuk memastikan App behave seperti Native App */
        html, body, #root {
            height: 100%;
            overflow: hidden; /* Mencegah scroll pada window browser utama */
            width: 100%;
        }

        /* Hide Scrollbar but allow scrolling (Cross-browser) */
        .hide-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none; /* Chrome, Safari and Opera */
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        
        /* Safe Area for iPhones with Notch */
        .safe-area-top { padding-top: max(16px, env(safe-area-inset-top)); }
        .safe-area-bottom { padding-bottom: max(24px, env(safe-area-inset-bottom)); }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-100 flex justify-center text-slate-900">

    <div id="root" class="w-full flex justify-center"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONS (SVG Components) ---
        const Icon = ({ children, size = 24, className = "", strokeWidth = 2 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={strokeWidth} strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const HomeIcon = (props) => <Icon {...props}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></Icon>;
        const PieChartIcon = (props) => <Icon {...props}><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/><path d="M22 12A10 10 0 0 0 12 2v10z"/></Icon>;
        const UserIcon = (props) => <Icon {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></Icon>;
        const BellIcon = (props) => <Icon {...props}><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></Icon>;
        const WalletIcon = (props) => <Icon {...props}><path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/><path d="M18 12a2 2 0 0 0 0 4h4v-4Z"/></Icon>;
        const ArrowUpRightIcon = (props) => <Icon {...props}><path d="M7 7h10v10"/><path d="M7 17 17 7"/></Icon>;
        const ArrowDownLeftIcon = (props) => <Icon {...props}><path d="M17 7 7 17"/><path d="M17 17H7V7"/></Icon>;
        const CreditCardIcon = (props) => <Icon {...props}><rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" x2="22" y1="10" y2="10"/></Icon>;
        const MoreHorizontalIcon = (props) => <Icon {...props}><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></Icon>;
        const ChevronRightIcon = (props) => <Icon {...props}><path d="m9 18 6-6-6-6"/></Icon>;
        const ArrowLeftIcon = (props) => <Icon {...props}><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></Icon>;
        const SearchIcon = (props) => <Icon {...props}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></Icon>;
        const PlusIcon = (props) => <Icon {...props}><path d="M5 12h14"/><path d="M12 5v14"/></Icon>;
        const SettingsIcon = (props) => <Icon {...props}><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></Icon>;
        const ShieldIcon = (props) => <Icon {...props}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></Icon>;
        const HelpCircleIcon = (props) => <Icon {...props}><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></Icon>;
        const LogOutIcon = (props) => <Icon {...props}><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></Icon>;
        const SmartphoneIcon = (props) => <Icon {...props}><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></Icon>;
        const LandmarkIcon = (props) => <Icon {...props}><line x1="3" x2="21" y1="22" y2="22"/><line x1="6" x2="6" y1="10" y2="15"/><line x1="10" x2="10" y1="10" y2="15"/><line x1="14" x2="14" y1="10" y2="15"/><line x1="18" x2="18" y1="10" y2="15"/><polygon points="12 2 20 7 4 7"/></Icon>;
        const CheckCircleIcon = (props) => <Icon {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></Icon>;
        const AlertTriangleIcon = (props) => <Icon {...props}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></Icon>;
        const XCircleIcon = (props) => <Icon {...props}><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></Icon>;
        const InfoIcon = (props) => <Icon {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></Icon>;
        const XIcon = (props) => <Icon {...props}><path d="M18 6 6 18"/><path d="m6 6 18 12"/></Icon>;

        // --- COMPONENTS ---
        const Notification = ({ type, title, message, isVisible, onClose }) => {
            const styles = {
                info: { icon: InfoIcon, color: 'text-blue-600', bgIcon: 'bg-blue-500/20' },
                success: { icon: CheckCircleIcon, color: 'text-green-600', bgIcon: 'bg-green-500/20' },
                warning: { icon: AlertTriangleIcon, color: 'text-orange-600', bgIcon: 'bg-orange-500/20' },
                danger: { icon: XCircleIcon, color: 'text-red-600', bgIcon: 'bg-red-500/20' }
            };
            const style = styles[type] || styles.info;
            const IconComp = style.icon;

            return (
                <div className={`fixed left-0 right-0 z-[100] flex justify-center px-4 transition-all duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] ${isVisible ? 'top-4 translate-y-0 opacity-100' : 'top-4 -translate-y-[150%] opacity-0 pointer-events-none'}`}>
                    {/* Mengubah background notifikasi menjadi solid white agar konsisten di semua halaman */}
                    <div className="w-full max-w-[360px] bg-white shadow-[0_8px_32px_rgba(31,38,135,0.15)] border border-white/50 rounded-[28px] p-3 pr-4 flex gap-3 items-center">
                        <div className={`w-10 h-10 rounded-full ${style.bgIcon} flex items-center justify-center flex-shrink-0 shadow-sm border border-white/20`}>
                            <IconComp size={20} className={style.color} strokeWidth={2.5} />
                        </div>
                        <div className="flex-1 min-w-0 py-0.5">
                            <h4 className="text-[15px] font-semibold text-gray-900 leading-tight truncate">{title}</h4>
                            <p className="text-[13px] text-gray-600 leading-tight mt-0.5 truncate font-medium">{message}</p>
                        </div>
                        <button onClick={onClose} className="text-gray-500 hover:text-gray-700 hover:bg-black/5 p-1.5 rounded-full transition-colors"><XIcon size={18} /></button>
                    </div>
                </div>
            );
        };

        const Header = ({ title, showBack, onBack, rightIcon }) => (
            <div className="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-100 px-6 py-4 flex items-center justify-between safe-area-top">
                <div className="flex items-center gap-3">
                    {showBack && (
                        <button onClick={onBack} className="p-2 -ml-2 rounded-full hover:bg-gray-100 transition-colors">
                            <ArrowLeftIcon size={20} className="text-gray-700" />
                        </button>
                    )}
                    <h1 className={`font-bold text-lg text-gray-800 ${showBack ? '' : 'text-xl'}`}>
                        {title}
                    </h1>
                </div>
                {rightIcon}
            </div>
        );

        const TransactionItem = ({ title, subtitle, amount, type, date }) => {
            const isPositive = type === 'income';
            return (
                <div className="flex items-center justify-between py-4 border-b border-gray-50 last:border-0 hover:bg-gray-50 transition-colors cursor-pointer px-1">
                    <div className="flex items-center gap-4">
                        <div className={`w-12 h-12 rounded-2xl flex items-center justify-center ${isPositive ? 'bg-green-50 text-green-600' : 'bg-orange-50 text-orange-600'}`}>
                            {isPositive ? <ArrowDownLeftIcon size={20} /> : <ArrowUpRightIcon size={20} />}
                        </div>
                        <div>
                            <h3 className="font-semibold text-gray-800 text-sm">{title}</h3>
                            <p className="text-xs text-gray-400 mt-1">{subtitle} â€¢ {date}</p>
                        </div>
                    </div>
                    <div className="text-right">
                        <span className={`font-bold text-sm block ${isPositive ? 'text-green-600' : 'text-gray-800'}`}>
                            {isPositive ? '+' : '-'} Rp {amount}
                        </span>
                    </div>
                </div>
            );
        };

        // --- PAGES ---

        const HomePage = ({ navigate, showNotify }) => {
            return (
                <div className="pb-32 bg-white min-h-full w-full animate-fade-in relative">
                    <div className="px-6 pt-8 pb-6 bg-white">
                        <div className="flex justify-between items-center mb-6">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm">
                                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User" />
                                </div>
                                <div>
                                    <p className="text-xs text-gray-500 font-medium">Selamat Pagi,</p>
                                    <p className="text-sm font-bold text-gray-800">Rizky Pratama</p>
                                </div>
                            </div>
                            <button onClick={() => showNotify('info', 'Notifikasi Baru', 'Anda memiliki 3 pesan belum dibaca.')} className="p-2 bg-gray-50 rounded-full hover:bg-gray-100 relative">
                                <BellIcon size={20} className="text-gray-600" />
                                <span className="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border border-white"></span>
                            </button>
                        </div>
                        <div className="relative overflow-hidden bg-slate-900 rounded-3xl p-6 text-white shadow-xl shadow-slate-200">
                            <div className="absolute top-0 right-0 w-32 h-32 bg-blue-500 rounded-full blur-3xl opacity-20 -mr-10 -mt-10"></div>
                            <div className="absolute bottom-0 left-0 w-24 h-24 bg-purple-500 rounded-full blur-3xl opacity-20 -ml-10 -mb-10"></div>
                            <div className="relative z-10">
                                <p className="text-slate-400 text-xs font-medium mb-1">Total Saldo</p>
                                <h2 className="text-3xl font-bold mb-6 tracking-tight">Rp 24.500.000</h2>
                                <div className="flex gap-4">
                                    <button onClick={() => showNotify('success', 'Transfer Berhasil', 'Uang Rp 500.000 berhasil dikirim.')} className="flex-1 bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-all py-3 rounded-xl flex flex-col items-center gap-1 group">
                                        <ArrowUpRightIcon size={20} className="text-blue-300 group-hover:scale-110 transition-transform" />
                                        <span className="text-xs font-medium">Kirim</span>
                                    </button>
                                    <button onClick={() => showNotify('info', 'Top Up', 'Silakan pilih metode pembayaran.')} className="flex-1 bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-all py-3 rounded-xl flex flex-col items-center gap-1 group">
                                        <ArrowDownLeftIcon size={20} className="text-green-300 group-hover:scale-110 transition-transform" />
                                        <span className="text-xs font-medium">Top Up</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div className="px-6 py-2">
                        <h3 className="text-sm font-bold text-gray-800 mb-4">Layanan Utama</h3>
                        <div className="grid grid-cols-4 gap-4">
                            {[
                                { icon: WalletIcon, label: 'E-Wallet', color: 'bg-blue-50 text-blue-600' },
                                { icon: CreditCardIcon, label: 'Tagihan', color: 'bg-purple-50 text-purple-600' },
                                { icon: PieChartIcon, label: 'Investasi', color: 'bg-orange-50 text-orange-600' },
                                { icon: MoreHorizontalIcon, label: 'Lainnya', color: 'bg-gray-50 text-gray-600' },
                            ].map((item, idx) => (
                                <div key={idx} className="flex flex-col items-center gap-2 group cursor-pointer">
                                    <div className={`w-14 h-14 rounded-2xl flex items-center justify-center ${item.color} shadow-sm group-hover:shadow-md transition-all group-hover:-translate-y-1`}>
                                        <item.icon size={24} />
                                    </div>
                                    <span className="text-xs font-medium text-gray-600">{item.label}</span>
                                </div>
                            ))}
                        </div>
                    </div>
                    <div className="px-6 mt-6">
                        <div className="flex justify-between items-center mb-4">
                            <h3 className="text-sm font-bold text-gray-800">Transaksi Terakhir</h3>
                            <button onClick={() => navigate('history')} className="text-xs font-semibold text-blue-600 hover:text-blue-700 flex items-center">
                                Lihat Semua <ChevronRightIcon size={14} />
                            </button>
                        </div>
                        <div className="bg-white rounded-3xl p-4 shadow-sm border border-gray-100">
                            <TransactionItem title="Spotify Premium" subtitle="Langganan Bulanan" amount="54.000" type="expense" date="Hari ini" />
                            <TransactionItem title="Transfer Masuk" subtitle="Dari Budi Santoso" amount="2.500.000" type="income" date="Kemarin" />
                            <TransactionItem title="Kopi Kenangan" subtitle="Makanan & Minuman" amount="35.000" type="expense" date="20 Jan" />
                            <TransactionItem title="Indomaret" subtitle="Belanja Harian" amount="125.000" type="expense" date="20 Jan" />
                            <TransactionItem title="Netflix" subtitle="Hiburan" amount="186.000" type="expense" date="19 Jan" />
                        </div>
                    </div>
                </div>
            );
        };

        const HistoryPage = ({ navigate }) => {
            const [filter, setFilter] = useState('all');
            const tabs = [ { id: 'all', label: 'Semua' }, { id: 'income', label: 'Masuk' }, { id: 'expense', label: 'Keluar' } ];

            return (
                <div className="pb-32 bg-gray-50 min-h-full w-full animate-fade-in relative">
                    <div className="sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100 shadow-sm">
                         <div className="px-6 py-4 flex items-center justify-between safe-area-top">
                             <div className="flex items-center gap-3">
                                <button onClick={() => navigate('home')} className="p-2 -ml-2 rounded-full hover:bg-gray-100 transition-colors">
                                    <ArrowLeftIcon size={20} className="text-gray-700" />
                                </button>
                                <h1 className="font-bold text-lg text-gray-800">Riwayat Transaksi</h1>
                             </div>
                            <button><SearchIcon size={20} className="text-gray-600" /></button>
                         </div>
                        <div className="px-6 pb-4">
                            <div className="flex p-1 bg-gray-100 rounded-xl">
                                {tabs.map((tab) => (
                                    <button key={tab.id} onClick={() => setFilter(tab.id)} className={`flex-1 py-2 text-xs font-semibold rounded-lg transition-all ${filter === tab.id ? 'bg-white text-gray-800 shadow-sm' : 'text-gray-500 hover:text-gray-700'}`}>
                                        {tab.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>
                    <div className="px-6 py-6">
                        <div className="flex justify-between items-end mb-2">
                            <h4 className="text-xs font-bold text-gray-500 uppercase tracking-wider">Januari 2024</h4>
                            <span className="text-xs font-semibold text-gray-800 bg-white px-3 py-1 rounded-full border border-gray-200">Total: - Rp 2.450.000</span>
                        </div>
                        <div className="bg-white rounded-3xl p-2 shadow-sm border border-gray-100">
                            {[1, 2, 3, 4, 5, 6, 7, 8].map((item) => (
                                <TransactionItem key={item} title={item % 2 === 0 ? "Tokopedia Bill" : "Gaji Bulanan"} subtitle={item % 2 === 0 ? "Belanja Online" : "Kantor Pusat"} amount={item % 2 === 0 ? "150.000" : "8.500.000"} type={item % 2 === 0 ? "expense" : "income"} date={`${20 - item} Jan`} />
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const WalletPage = ({ navigate }) => {
            return (
                <div className="pb-32 bg-gray-50 min-h-full w-full animate-fade-in relative">
                    <Header title="Dompet Saya" showBack={false} rightIcon={<button><PlusIcon size={20} className="text-blue-600" /></button>} />
                    <div className="px-6 py-6 overflow-x-auto hide-scrollbar flex gap-4 snap-x snap-mandatory">
                        <div className="snap-center shrink-0 w-full relative overflow-hidden bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl p-6 text-white shadow-xl shadow-slate-200 aspect-[1.6/1]">
                            <div className="absolute top-0 right-0 w-40 h-40 bg-white rounded-full blur-3xl opacity-10 -mr-10 -mt-10"></div>
                            <div className="absolute bottom-0 left-0 w-32 h-32 bg-blue-500 rounded-full blur-3xl opacity-20 -ml-10 -mb-10"></div>
                            <div className="relative z-10 flex flex-col justify-between h-full">
                                <div className="flex justify-between items-start"><span className="font-bold text-lg tracking-wider">PAY APP</span><div className="bg-white/20 px-2 py-1 rounded text-[10px] font-bold">VISA</div></div>
                                <div><p className="text-slate-400 text-xs mb-1 font-mono">**** **** **** 4289</p><h2 className="text-2xl font-bold tracking-tight">Rp 12.500.000</h2></div>
                                <div className="flex justify-between items-end"><div><p className="text-[10px] text-slate-400 uppercase">Pemilik Kartu</p><p className="font-medium text-sm">RIZKY PRATAMA</p></div><p className="font-medium text-sm">12/28</p></div>
                            </div>
                        </div>
                        <div className="snap-center shrink-0 w-full relative overflow-hidden bg-gradient-to-br from-blue-600 to-indigo-700 rounded-3xl p-6 text-white shadow-xl shadow-blue-200 aspect-[1.6/1]">
                           <div className="relative z-10 flex flex-col justify-between h-full">
                                <div className="flex justify-between items-start"><span className="font-bold text-lg tracking-wider">Debit</span><div className="bg-white/20 px-2 py-1 rounded text-[10px] font-bold">MASTER</div></div>
                                <div><p className="text-blue-200 text-xs mb-1 font-mono">**** **** **** 8821</p><h2 className="text-2xl font-bold tracking-tight">Rp 5.200.000</h2></div>
                                <div className="flex justify-between items-end"><div><p className="text-[10px] text-blue-200 uppercase">Pemilik Kartu</p><p className="font-medium text-sm">RIZKY PRATAMA</p></div></div>
                           </div>
                        </div>
                    </div>
                    <div className="px-6">
                        <h3 className="text-sm font-bold text-gray-800 mb-3">Rekening Terhubung</h3>
                        <div className="bg-white rounded-3xl p-2 shadow-sm border border-gray-100 flex flex-col">
                            {[{ name: "Bank BCA", num: "8272 8272 9900", icon: LandmarkIcon, color: "bg-blue-50 text-blue-600" }, { name: "OVO Cash", num: "0812 3456 7890", icon: SmartphoneIcon, color: "bg-purple-50 text-purple-600" }].map((acc, i) => (
                                <div key={i} className="flex items-center justify-between p-4 hover:bg-gray-50 rounded-2xl transition-colors cursor-pointer">
                                    <div className="flex items-center gap-4"><div className={`w-10 h-10 rounded-full flex items-center justify-center ${acc.color}`}><acc.icon size={20} /></div><div><h4 className="font-semibold text-sm text-gray-800">{acc.name}</h4><p className="text-xs text-gray-400">{acc.num}</p></div></div>
                                    <ChevronRightIcon size={16} className="text-gray-300" />
                                </div>
                            ))}
                        </div>
                    </div>
                   <div className="px-6 mt-6"><div className="bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl p-4 text-white flex items-center justify-between"><div><p className="text-xs text-gray-400 mb-1">Limit Bulanan</p><div className="w-48 h-2 bg-gray-700 rounded-full overflow-hidden mt-1"><div className="h-full bg-green-500 w-[65%]"></div></div><p className="text-[10px] text-gray-400 mt-2">Terpakai Rp 6.5jt dari Rp 10jt</p></div><button className="bg-white/10 hover:bg-white/20 p-2 rounded-lg transition-colors"><SettingsIcon size={18} /></button></div></div>
                </div>
            );
        }

        const ProfilePage = ({ navigate, showNotify }) => {
            const menuItems = [ { icon: UserIcon, label: "Edit Profil" }, { icon: ShieldIcon, label: "Keamanan & Privasi" }, { icon: CreditCardIcon, label: "Metode Pembayaran" }, { icon: BellIcon, label: "Notifikasi" }, { icon: HelpCircleIcon, label: "Pusat Bantuan" } ];

            return (
                <div className="pb-32 bg-white min-h-full w-full animate-fade-in relative">
                    <div className="relative w-full">
                        <div className="h-40 bg-slate-900 rounded-b-[40px] w-full absolute top-0 left-0 z-0 overflow-hidden">
                           <div className="absolute top-0 right-0 w-40 h-40 bg-blue-500 rounded-full blur-3xl opacity-20 -mr-10 -mt-10"></div>
                           <div className="absolute bottom-0 left-0 w-32 h-32 bg-purple-500 rounded-full blur-3xl opacity-20 -ml-10 -mb-10"></div>
                        </div>
                        <div className="relative z-10 px-6 pt-16 flex flex-col items-center">
                            <div className="w-28 h-28 rounded-full border-4 border-white shadow-lg overflow-hidden bg-slate-200 mb-3">
                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User" className="w-full h-full object-cover" />
                            </div>
                            <h2 className="text-xl font-bold text-gray-900">Rizky Pratama</h2>
                            <p className="text-sm text-gray-500">rizky.pratama@email.com</p>
                            <span className="mt-2 px-3 py-1 bg-blue-50 text-blue-600 text-[10px] font-bold uppercase tracking-wide rounded-full">Member Premium</span>
                        </div>
                    </div>
                    <div className="px-6 mt-6">
                        <h3 className="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3 px-2">Test Notifikasi</h3>
                        <div className="grid grid-cols-2 gap-3">
                            {/* Reverted buttons to colored style as requested */}
                            <button onClick={() => showNotify('info', 'Informasi', 'Versi terbaru aplikasi tersedia.')} className="p-3 rounded-xl bg-blue-50 text-blue-600 text-xs font-bold border border-blue-100 hover:bg-blue-100 transition-colors shadow-sm">Trigger Info</button>
                            <button onClick={() => showNotify('success', 'Berhasil', 'Pembayaran tagihan listrik sukses!')} className="p-3 rounded-xl bg-green-50 text-green-600 text-xs font-bold border border-green-100 hover:bg-green-100 transition-colors shadow-sm">Trigger Success</button>
                            <button onClick={() => showNotify('warning', 'Peringatan', 'Sisa saldo Anda hampir habis.')} className="p-3 rounded-xl bg-orange-50 text-orange-600 text-xs font-bold border border-orange-100 hover:bg-orange-100 transition-colors shadow-sm">Trigger Warning</button>
                            <button onClick={() => showNotify('danger', 'Gagal', 'Transaksi ditolak oleh bank.')} className="p-3 rounded-xl bg-red-50 text-red-600 text-xs font-bold border border-red-100 hover:bg-red-100 transition-colors shadow-sm">Trigger Danger</button>
                        </div>
                    </div>
                    <div className="px-6 mt-8">
                        <h3 className="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3 px-2">Pengaturan Akun</h3>
                        <div className="flex flex-col gap-2">
                            {menuItems.map((item, i) => (
                                <button key={i} className="flex items-center justify-between p-4 hover:bg-gray-50 rounded-2xl transition-colors group">
                                    <div className="flex items-center gap-4"><div className="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center group-hover:bg-white group-hover:shadow-sm transition-all text-gray-600"><item.icon size={20} /></div><span className="font-medium text-sm text-gray-700">{item.label}</span></div>
                                    <ChevronRightIcon size={18} className="text-gray-300" />
                                </button>
                            ))}
                        </div>
                    </div>
                    <div className="px-6 mt-6 mb-8">
                        <button className="w-full py-4 rounded-2xl bg-red-50 text-red-600 font-semibold text-sm flex items-center justify-center gap-2 hover:bg-red-100 transition-colors"><LogOutIcon size={18} />Keluar Aplikasi</button>
                        <p className="text-center text-[10px] text-gray-400 mt-4">Versi Aplikasi 1.0.2 (Build 204)</p>
                    </div>
                </div>
            );
        }

        const App = () => {
            const [currentPage, setCurrentPage] = useState('home');
            const [notification, setNotification] = useState({ show: false, type: 'info', title: '', message: '' });

            const showNotify = (type, title, message) => {
                setNotification({ show: true, type, title, message });
                setTimeout(() => { setNotification(prev => ({ ...prev, show: false })); }, 4000);
            };

            const closeNotify = () => setNotification(prev => ({ ...prev, show: false }));

            return (
                // CONTAINER UTAMA (Fixed Height, Internal Scrolling)
                <div className="w-full max-w-[430px] bg-white h-full shadow-2xl relative flex flex-col overflow-hidden">
                    <Notification isVisible={notification.show} type={notification.type} title={notification.title} message={notification.message} onClose={closeNotify} />
                    
                    {/* SCROLLABLE CONTENT AREA (Scrollbar Hidden) */}
                    <div className="flex-1 w-full overflow-y-auto hide-scrollbar overflow-x-hidden">
                        {currentPage === 'home' && <HomePage navigate={setCurrentPage} showNotify={showNotify} />}
                        {currentPage === 'history' && <HistoryPage navigate={setCurrentPage} />}
                        {currentPage === 'wallet' && <WalletPage navigate={setCurrentPage} />}
                        {currentPage === 'profile' && <ProfilePage navigate={setCurrentPage} showNotify={showNotify} />}
                    </div>

                    {/* BOTTOM NAV (Absolute to container) */}
                    <div className="absolute bottom-0 w-full px-4 pb-6 pt-2 z-50 pointer-events-none">
                        <div className="bg-white/10 backdrop-blur-xl border border-white/20 shadow-[0_8px_32px_rgba(31,38,135,0.15)] rounded-3xl px-6 py-3 pointer-events-auto flex justify-between items-center relative">
                            {[
                                { id: 'home', icon: HomeIcon, label: 'Beranda' },
                                { id: 'history', icon: PieChartIcon, label: 'Aktivitas' },
                                { id: 'scan', icon: null, label: 'Scan', isMain: true },
                                { id: 'wallet', icon: WalletIcon, label: 'Dompet' },
                                { id: 'profile', icon: UserIcon, label: 'Profil' },
                            ].map((item) => (
                                item.isMain ? (
                                    <div key={item.id} className="relative -top-8">
                                        <button onClick={() => showNotify('warning', 'Scan QR', 'Fitur kamera belum tersedia di browser.')} className="w-14 h-14 bg-slate-900 rounded-full flex items-center justify-center shadow-lg shadow-slate-300 hover:scale-105 transition-transform group cursor-pointer">
                                            <div className="w-6 h-6 border-2 border-white/30 rounded-sm relative group-hover:border-white transition-colors">
                                                <div className="absolute top-0 left-0 w-2 h-2 border-t-2 border-l-2 border-white -mt-[2px] -ml-[2px]"></div><div className="absolute top-0 right-0 w-2 h-2 border-t-2 border-r-2 border-white -mt-[2px] -mr-[2px]"></div><div className="absolute bottom-0 left-0 w-2 h-2 border-b-2 border-l-2 border-white -mb-[2px] -ml-[2px]"></div><div className="absolute bottom-0 right-0 w-2 h-2 border-b-2 border-r-2 border-white -mb-[2px] -mr-[2px]"></div><div className="absolute top-1/2 left-0 right-0 h-[1px] bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.8)] animate-pulse"></div>
                                            </div>
                                        </button>
                                    </div>
                                ) : (
                                    <button key={item.id} onClick={() => setCurrentPage(item.id)} className={`flex flex-col items-center gap-1 transition-all duration-300 ${currentPage === item.id ? 'text-slate-900 scale-110' : 'text-gray-400 hover:text-gray-600'}`}>
                                        <item.icon size={24} strokeWidth={2} className={currentPage === item.id ? "fill-slate-100" : ""} />
                                        <span className="text-[10px] font-medium opacity-100">{item.label}</span>
                                    </button>
                                )
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>