<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hyperion Lab - Analytics Dashboard</title>
    
    <!-- 1. Tailwind CSS (Styling) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Google Fonts (JetBrains Mono - Technical/Data Font) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- 3. Lucide Icons (Icon Library) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom Config for Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                fontFamily: {
                    // Mengganti font default menjadi JetBrains Mono
                    sans: ['"JetBrains Mono"', 'monospace'],
                },
                extend: {
                    colors: {
                        slate: {
                            50: '#F8FAFC',
                        }
                    },
                    letterSpacing: {
                        tight: '-0.025em', // Adjust tracking for mono font
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Custom Scrollbar Hide */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Animation classes */
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Table Styles */
        .table-row-hover:hover td {
            background-color: #F8FAFC;
        }

        /* Toggle Switch Checkbox (FLAT STYLE) */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #f97316;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #f97316;
        }
        /* Override rounded for toggle */
        .toggle-checkbox {
            border-radius: 0 !important;
        }
        .toggle-label {
            border-radius: 0 !important;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 antialiased selection:bg-orange-100 selection:text-orange-900 tracking-tight">

    <!-- Mobile Header (Visible only on Mobile) -->
    <div class="lg:hidden fixed top-0 left-0 w-full bg-white/90 backdrop-blur-md border-b border-slate-200 z-40 px-4 py-3 flex items-center justify-between shadow-sm">
        <div class="flex items-center gap-3">
            <button onclick="toggleSidebar()" class="p-1 text-slate-500 hover:bg-slate-50">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
            <div>
                <span class="block font-bold text-slate-900 text-base leading-tight">Hyperion Lab</span>
                <span class="block text-xs text-slate-500 font-medium mt-0.5">Professional Plan</span>
            </div>
        </div>
        <div class="w-8 h-8 bg-slate-200 flex items-center justify-center text-xs font-bold text-slate-500">JD</div>
    </div>

    <!-- Mobile Overlay -->
    <div id="sidebar-overlay" onclick="toggleSidebar()" class="fixed inset-0 bg-slate-900/50 z-40 hidden transition-opacity lg:hidden backdrop-blur-sm"></div>

    <!-- Sidebar Navigation (Fixed Left) -->
    <aside id="sidebar" class="w-64 h-screen bg-white border-r border-slate-200 flex flex-col fixed left-0 top-0 z-50 transition-transform duration-300 ease-in-out transform -translate-x-full lg:translate-x-0 shadow-xl lg:shadow-none">
        <!-- Brand Header (Desktop) -->
        <div class="p-6 pb-8 hidden lg:block">
            <div class="flex items-center gap-3">
                <!-- Icon removed -->
                <div>
                    <!-- UPDATED: Title size increased to text-base, Subtitle to text-xs -->
                    <h1 class="font-bold text-slate-900 text-base leading-tight">Hyperion Lab</h1>
                    <p class="text-xs text-slate-500 font-medium mt-0.5">Professional Plan</p>
                </div>
                <div class="ml-auto text-slate-400 cursor-pointer hover:text-slate-600">
                    <i data-lucide="chevron-down" class="w-3.5 h-3.5"></i>
                </div>
            </div>
        </div>

        <!-- Mobile Close Button Header -->
        <div class="p-4 flex justify-between items-center lg:hidden border-b border-slate-100">
            <span class="font-bold text-slate-900">Menu</span>
            <button onclick="toggleSidebar()" class="text-slate-400 hover:text-slate-600">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
        </div>

        <!-- Navigation Items -->
        <div class="flex-1 overflow-y-auto px-4 pb-6 scrollbar-hide space-y-6 pt-4 lg:pt-0">
            
            <!-- Section: Analytics -->
            <div>
                <div class="px-3 mb-2 flex justify-between items-center">
                    <h3 class="text-[11px] font-bold text-slate-400 uppercase tracking-wider">Analytics</h3>
                </div>
                <div class="space-y-0.5">
                    <!-- Default Active: Overview -->
                    <a href="#" id="btn-overview" onclick="switchPage('overview')" class="nav-item active group flex items-center justify-between px-3 py-2 text-sm font-medium bg-orange-50 text-orange-600 cursor-default">
                        <div class="flex items-center gap-3">
                            <i data-lucide="layout-dashboard" class="w-[18px] h-[18px] text-orange-500"></i>
                            <span>Overview</span>
                        </div>
                        <div class="w-1.5 h-1.5 bg-orange-500 shadow-sm indicator ml-auto"></div>
                    </a>
                    
                    <a href="#" id="btn-marketing" onclick="switchPage('marketing')" class="nav-item group flex items-center justify-between px-3 py-2 text-sm font-medium text-slate-500 hover:bg-slate-50 hover:text-slate-900 transition-all">
                        <div class="flex items-center gap-3">
                            <i data-lucide="layers" class="w-[18px] h-[18px] text-slate-400 group-hover:text-slate-600"></i>
                            <span>Marketing Channels</span>
                        </div>
                    </a>
                    
                    <!-- Inactive by default -->
                    <a href="#" id="btn-conversion" onclick="switchPage('conversion')" class="nav-item group flex items-center justify-between px-3 py-2 text-sm font-medium text-slate-500 hover:bg-slate-50 hover:text-slate-900 transition-all">
                        <div class="flex items-center gap-3">
                            <i data-lucide="zap" class="w-[18px] h-[18px] text-slate-400 group-hover:text-slate-600"></i>
                            <span>Conversion Funnel</span>
                        </div>
                    </a>
                    
                    <a href="#" id="btn-ads" onclick="switchPage('ads')" class="nav-item group flex items-center justify-between px-3 py-2 text-sm font-medium text-slate-500 hover:bg-slate-50 hover:text-slate-900 transition-all">
                        <div class="flex items-center gap-3">
                            <i data-lucide="pie-chart" class="w-[18px] h-[18px] text-slate-400 group-hover:text-slate-600"></i>
                            <span>Ads Report</span>
                        </div>
                    </a>
                </div>
            </div>

            <!-- Section: Favourite -->
            <div>
                <div class="px-3 mb-2 flex justify-between items-center">
                    <h3 class="text-[11px] font-bold text-slate-400 uppercase tracking-wider">Favourite</h3>
                    <button class="text-slate-400 hover:text-slate-600 transition-colors"><i data-lucide="plus" class="w-3.5 h-3.5"></i></button>
                </div>
                <div class="space-y-0.5">
                    <!-- Dropdown Trigger (OnClick functionality added) -->
                    <a href="javascript:void(0)" onclick="toggleSubmenu('submenu-retention', this)" class="nav-item group flex items-center justify-between px-3 py-2 text-sm font-medium text-slate-500 hover:bg-slate-50 hover:text-slate-900 transition-all cursor-pointer select-none">
                        <div class="flex items-center gap-3">
                            <i data-lucide="users" class="w-[18px] h-[18px] text-slate-400 group-hover:text-slate-600"></i>
                            <span>Retention Funnel</span>
                        </div>
                        <i data-lucide="chevron-down" class="w-3.5 h-3.5 text-slate-300 transition-transform duration-200"></i>
                    </a>
                    
                    <!-- Submenu Container (Added 'hidden' class by default) -->
                    <div id="submenu-retention" class="hidden pl-4 space-y-1 mt-1 mb-2 border-l border-slate-100 ml-6 transition-all duration-300 overflow-hidden">
                        <a href="#" id="btn-cohort" onclick="switchPage('cohort')" class="submenu-item block text-[11px] text-slate-500 hover:text-orange-600 cursor-pointer py-1 pl-3 border-l-2 border-transparent hover:border-orange-200 transition-all">Funnel Cohort Analysis</a>
                        <a href="#" id="btn-lifecycle" onclick="switchPage('lifecycle')" class="submenu-item block text-[11px] text-slate-500 hover:text-orange-600 cursor-pointer py-1 pl-3 border-l-2 border-transparent hover:border-orange-200 transition-all">Paid User Lifecycle</a>
                    </div>
                </div>
            </div>

            <!-- Section: Settings -->
            <div>
                 <div class="px-3 mb-2 flex justify-between items-center">
                    <h3 class="text-[11px] font-bold text-slate-400 uppercase tracking-wider">Settings</h3>
                </div>
                 <div class="space-y-0.5">
                    <a href="#" id="btn-appearance" onclick="switchPage('appearance')" class="nav-item group flex items-center justify-between px-3 py-2 text-sm font-medium text-slate-500 hover:bg-slate-50 hover:text-slate-900 transition-all">
                        <div class="flex items-center gap-3">
                            <i data-lucide="settings" class="w-[18px] h-[18px] text-slate-400 group-hover:text-slate-600"></i>
                            <span>Appearance</span>
                        </div>
                    </a>
                    
                    <a href="#" id="btn-account" onclick="switchPage('account')" class="nav-item group flex items-center justify-between px-3 py-2 text-sm font-medium text-slate-500 hover:bg-slate-50 hover:text-slate-900 transition-all">
                        <div class="flex items-center gap-3">
                            <i data-lucide="credit-card" class="w-[18px] h-[18px] text-slate-400 group-hover:text-slate-600"></i>
                            <span>Account Settings</span>
                        </div>
                    </a>
                 </div>
            </div>
        </div>
        
        <!-- User Profile Stub (Desktop) -->
        <div class="p-4 border-t border-slate-100 hidden lg:block">
            <div class="flex items-center gap-3 cursor-pointer hover:bg-slate-50 p-2 transition-colors">
                <div class="w-8 h-8 bg-slate-200 flex items-center justify-center text-xs font-bold text-slate-500">JD</div>
                <div class="flex-1">
                    <div class="text-xs font-semibold text-slate-700">John Doe</div>
                    <div class="text-[10px] text-slate-400">Admin</div>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="lg:pl-64 w-full min-h-screen pt-16 lg:pt-0 transition-all duration-300">
        <div class="p-4 md:p-8 max-w-[1400px] mx-auto">
            
            <!-- VIEW 0: OVERVIEW (DEFAULT) -->
            <div id="page-overview" class="fade-in">
                <!-- Header -->
                <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
                    <div>
                        <h2 class="text-xl font-bold text-slate-900 tracking-tight">Dashboard Overview</h2>
                        <p class="text-sm text-slate-500 mt-1">Welcome back, John! Here's what's happening today.</p>
                    </div>
                    <div class="flex gap-2">
                        <button class="flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white text-sm font-medium transition-colors shadow-sm shadow-orange-200">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            <span>Create Report</span>
                        </button>
                    </div>
                </div>

                <!-- Row 1: Quick Stats Cards (Updated with Footer Style) -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <!-- Stat 1: Active Users -->
                    <div class="bg-white border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex flex-col group">
                        <div class="p-5 flex items-center gap-4 flex-1">
                            <div class="w-12 h-12 bg-blue-50 flex items-center justify-center text-blue-500">
                                <i data-lucide="users" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <div class="text-slate-500 text-xs font-semibold uppercase tracking-wider">Active Users</div>
                                <div class="text-xl font-bold text-slate-900 mt-0.5">12,594</div>
                            </div>
                        </div>
                        <div class="bg-slate-50 px-5 py-2 border-t border-slate-100 text-[10px] text-slate-500 flex items-center gap-1">
                            <span class="text-emerald-600 font-bold flex items-center gap-1">
                                <i data-lucide="trending-up" class="w-3 h-3"></i> +5.2%
                            </span>
                            <span>vs last month</span>
                        </div>
                    </div>

                    <!-- Stat 2: MRR -->
                    <div class="bg-white border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex flex-col group">
                        <div class="p-5 flex items-center gap-4 flex-1">
                            <div class="w-12 h-12 bg-emerald-50 flex items-center justify-center text-emerald-500">
                                <i data-lucide="credit-card" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <div class="text-slate-500 text-xs font-semibold uppercase tracking-wider">MRR</div>
                                <div class="text-xl font-bold text-slate-900 mt-0.5">$42,500</div>
                            </div>
                        </div>
                        <div class="bg-slate-50 px-5 py-2 border-t border-slate-100 text-[10px] text-slate-500 flex items-center gap-1">
                            <span class="text-emerald-600 font-bold flex items-center gap-1">
                                <i data-lucide="trending-up" class="w-3 h-3"></i> +12.4%
                            </span>
                            <span>vs last month</span>
                        </div>
                    </div>

                    <!-- Stat 3: Bounce Rate -->
                    <div class="bg-white border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex flex-col group">
                        <div class="p-5 flex items-center gap-4 flex-1">
                            <div class="w-12 h-12 bg-violet-50 flex items-center justify-center text-violet-500">
                                <i data-lucide="activity" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <div class="text-slate-500 text-xs font-semibold uppercase tracking-wider">Bounce Rate</div>
                                <div class="text-xl font-bold text-slate-900 mt-0.5">42.8%</div>
                            </div>
                        </div>
                        <div class="bg-slate-50 px-5 py-2 border-t border-slate-100 text-[10px] text-slate-500 flex items-center gap-1">
                            <span class="text-emerald-600 font-bold flex items-center gap-1">
                                <i data-lucide="trending-down" class="w-3 h-3"></i> -2.1%
                            </span>
                            <span>vs last month</span>
                        </div>
                    </div>

                    <!-- Stat 4: New Signups -->
                    <div class="bg-white border border-slate-200 shadow-sm hover:shadow-md transition-shadow flex flex-col group">
                        <div class="p-5 flex items-center gap-4 flex-1">
                            <div class="w-12 h-12 bg-orange-50 flex items-center justify-center text-orange-500">
                                <i data-lucide="user-plus" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <div class="text-slate-500 text-xs font-semibold uppercase tracking-wider">New Signups</div>
                                <div class="text-xl font-bold text-slate-900 mt-0.5">145</div>
                            </div>
                        </div>
                        <div class="bg-slate-50 px-5 py-2 border-t border-slate-100 text-[10px] text-slate-500 flex items-center gap-1">
                            <span class="text-emerald-600 font-bold flex items-center gap-1">
                                <i data-lucide="trending-up" class="w-3 h-3"></i> +8.5%
                            </span>
                            <span>vs last month</span>
                        </div>
                    </div>
                </div>

                <!-- Row 2: Advanced Charts (Line & Pie) - NEW UPDATE -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                    
                    <!-- Advanced Line Chart (Revenue Analysis) -->
                    <div class="lg:col-span-2 bg-white border border-slate-200 shadow-sm p-6 flex flex-col">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4">
                            <div>
                                <h3 class="font-bold text-slate-800 text-sm">Revenue Analytics</h3>
                                <div class="flex items-center gap-4 mt-2">
                                    <div class="flex items-center gap-1.5">
                                        <div class="w-2 h-2 bg-blue-500"></div>
                                        <span class="text-xs text-slate-500">Income</span>
                                    </div>
                                    <div class="flex items-center gap-1.5">
                                        <div class="w-2 h-2 bg-rose-400 border border-white shadow-sm"></div>
                                        <span class="text-xs text-slate-500">Expenses</span>
                                    </div>
                                </div>
                            </div>
                            <!-- Flat Filters -->
                            <div class="flex border border-slate-200 bg-slate-50 p-0.5">
                                <button class="px-3 py-1 text-[10px] font-medium text-slate-500 hover:text-slate-900 hover:bg-white transition-all">7D</button>
                                <button class="px-3 py-1 text-[10px] font-medium text-white bg-slate-900 shadow-sm">30D</button>
                                <button class="px-3 py-1 text-[10px] font-medium text-slate-500 hover:text-slate-900 hover:bg-white transition-all">3M</button>
                                <button class="px-3 py-1 text-[10px] font-medium text-slate-500 hover:text-slate-900 hover:bg-white transition-all">1Y</button>
                            </div>
                        </div>
                        
                        <!-- SVG Chart Container -->
                        <div class="h-64 w-full relative group">
                             <!-- Grid Lines -->
                             <div class="absolute inset-0 flex flex-col justify-between pointer-events-none">
                                <div class="w-full h-px bg-slate-100"></div>
                                <div class="w-full h-px bg-slate-100"></div>
                                <div class="w-full h-px bg-slate-100"></div>
                                <div class="w-full h-px bg-slate-100"></div>
                                <div class="w-full h-px bg-slate-100"></div>
                             </div>
                             
                             <!-- SVG Chart -->
                             <svg viewBox="0 0 800 300" class="w-full h-full overflow-visible" preserveAspectRatio="none">
                                <defs>
                                    <linearGradient id="revenueGradient" x1="0" y1="0" x2="0" y2="1">
                                        <stop offset="0%" stop-color="#3b82f6" stop-opacity="0.15"/>
                                        <stop offset="100%" stop-color="#3b82f6" stop-opacity="0"/>
                                    </linearGradient>
                                </defs>
                                
                                <!-- Revenue Area -->
                                <path d="M0,220 C100,180 200,240 300,120 400,150 500,60 600,80 700,30 800,50 V300 H0 Z" fill="url(#revenueGradient)" />
                                <!-- Revenue Line -->
                                <path d="M0,220 C100,180 200,240 300,120 400,150 500,60 600,80 700,30 800,50" fill="none" stroke="#3b82f6" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
                                
                                <!-- Expenses Line (Dashed) -->
                                <path d="M0,260 C120,250 220,270 320,200 420,210 520,180 620,190 720,160 800,170" fill="none" stroke="#fb7185" stroke-width="2" stroke-dasharray="6 4" stroke-linecap="round" />
                                
                                <!-- Hover Interaction Point (Simulated) -->
                                <g class="opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                                    <line x1="500" y1="0" x2="500" y2="300" stroke="#cbd5e1" stroke-width="1" stroke-dasharray="4 2" />
                                    <circle cx="500" cy="60" r="5" fill="white" stroke="#3b82f6" stroke-width="2" />
                                    <circle cx="500" cy="186" r="4" fill="white" stroke="#fb7185" stroke-width="2" />
                                </g>
                             </svg>
                             
                             <!-- Tooltip Overlay -->
                             <div class="absolute top-10 left-[62%] bg-slate-900 text-white p-3 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 w-40">
                                <div class="text-[10px] text-slate-400 mb-1">Oct 24, 2024</div>
                                <div class="flex justify-between items-center text-xs mb-1">
                                    <span>Income</span>
                                    <span class="font-bold text-blue-300">$8,450</span>
                                </div>
                                <div class="flex justify-between items-center text-xs">
                                    <span>Exp.</span>
                                    <span class="font-bold text-rose-300">$3,200</span>
                                </div>
                             </div>

                             <!-- X-Axis Labels -->
                             <div class="flex justify-between text-[10px] text-slate-400 mt-2 px-2">
                                 <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
                             </div>
                        </div>
                    </div>

                    <!-- Advanced Donut Chart (Demographics) -->
                    <div class="bg-white border border-slate-200 shadow-sm p-6 flex flex-col">
                        <div class="flex justify-between items-start mb-6">
                            <div>
                                <h3 class="font-bold text-slate-800 text-sm">Device Usage</h3>
                                <p class="text-[10px] text-slate-500">By active sessions</p>
                            </div>
                            <button class="text-slate-400 hover:text-slate-600"><i data-lucide="more-horizontal" class="w-4 h-4"></i></button>
                        </div>
                        
                        <div class="flex-1 flex flex-col items-center justify-center relative">
                            <!-- Donut SVG -->
                            <div class="w-48 h-48 relative">
                                <svg viewBox="0 0 100 100" class="w-full h-full -rotate-90">
                                    <!-- Background Circle -->
                                    <circle cx="50" cy="50" r="40" fill="none" stroke="#f1f5f9" stroke-width="12" />
                                    <!-- Mobile Segment (Blue) 55% -->
                                    <circle cx="50" cy="50" r="40" fill="none" stroke="#3b82f6" stroke-width="12" stroke-dasharray="138 251" stroke-linecap="round" />
                                    <!-- Desktop Segment (Cyan) 30% -->
                                    <circle cx="50" cy="50" r="40" fill="none" stroke="#06b6d4" stroke-width="12" stroke-dasharray="75 251" stroke-dashoffset="-145" stroke-linecap="round" />
                                    <!-- Tablet Segment (Orange) 15% -->
                                    <circle cx="50" cy="50" r="40" fill="none" stroke="#f97316" stroke-width="12" stroke-dasharray="30 251" stroke-dashoffset="-225" stroke-linecap="round" />
                                </svg>
                                <!-- Center Text -->
                                <div class="absolute inset-0 flex flex-col items-center justify-center">
                                    <span class="text-2xl font-bold text-slate-800">24k</span>
                                    <span class="text-[10px] text-slate-400 uppercase tracking-wide">Sessions</span>
                                </div>
                            </div>
                        </div>

                        <!-- Legend -->
                        <div class="mt-6 space-y-3">
                            <div class="flex items-center justify-between text-xs">
                                <div class="flex items-center gap-2"><div class="w-2 h-2 bg-blue-500"></div> <span class="text-slate-600">Mobile</span></div>
                                <span class="font-bold text-slate-900">55%</span>
                            </div>
                            <div class="flex items-center justify-between text-xs">
                                <div class="flex items-center gap-2"><div class="w-2 h-2 bg-cyan-500"></div> <span class="text-slate-600">Desktop</span></div>
                                <span class="font-bold text-slate-900">30%</span>
                            </div>
                            <div class="flex items-center justify-between text-xs">
                                <div class="flex items-center gap-2"><div class="w-2 h-2 bg-orange-500"></div> <span class="text-slate-600">Tablet</span></div>
                                <span class="font-bold text-slate-900">15%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Row 3: Advanced Bar Chart & Activity - NEW UPDATE -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    
                    <!-- Advanced Stacked Bar Chart -->
                    <div class="lg:col-span-2 bg-white border border-slate-200 shadow-sm p-6">
                        <div class="flex justify-between items-center mb-6">
                            <div>
                                <h3 class="font-bold text-slate-800 text-sm">Traffic Source Trends</h3>
                                <p class="text-[10px] text-slate-500">Direct vs Organic over last 7 days</p>
                            </div>
                            <!-- Simple Dropdown Trigger -->
                            <button class="flex items-center gap-2 text-xs border border-slate-200 px-3 py-1.5 hover:bg-slate-50">
                                <span>All Channels</span>
                                <i data-lucide="chevron-down" class="w-3 h-3 text-slate-400"></i>
                            </button>
                        </div>

                        <div class="h-60 w-full flex items-end justify-between gap-4 sm:gap-8 px-2">
                            <!-- Bar Item -->
                            <div class="flex flex-col items-center gap-2 w-full group relative cursor-pointer">
                                <div class="w-full max-w-[24px] bg-slate-100 h-48 relative flex flex-col justify-end overflow-hidden">
                                    <!-- Organic -->
                                    <div class="w-full bg-emerald-400 h-[40%] group-hover:bg-emerald-500 transition-colors"></div>
                                    <!-- Direct -->
                                    <div class="w-full bg-indigo-500 h-[30%] group-hover:bg-indigo-600 transition-colors border-t border-white/20"></div>
                                </div>
                                <span class="text-[10px] text-slate-400">Mon</span>
                                <!-- Tooltip -->
                                <div class="absolute bottom-full mb-2 bg-slate-800 text-white text-[10px] p-2 w-24 text-center opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none">
                                    Direct: 300<br>Organic: 400
                                </div>
                            </div>

                            <!-- Bar Item -->
                            <div class="flex flex-col items-center gap-2 w-full group relative cursor-pointer">
                                <div class="w-full max-w-[24px] bg-slate-100 h-48 relative flex flex-col justify-end overflow-hidden">
                                    <div class="w-full bg-emerald-400 h-[50%] group-hover:bg-emerald-500 transition-colors"></div>
                                    <div class="w-full bg-indigo-500 h-[25%] group-hover:bg-indigo-600 transition-colors border-t border-white/20"></div>
                                </div>
                                <span class="text-[10px] text-slate-400">Tue</span>
                            </div>

                            <!-- Bar Item (High) -->
                            <div class="flex flex-col items-center gap-2 w-full group relative cursor-pointer">
                                <div class="w-full max-w-[24px] bg-slate-100 h-48 relative flex flex-col justify-end overflow-hidden">
                                    <div class="w-full bg-emerald-400 h-[60%] group-hover:bg-emerald-500 transition-colors"></div>
                                    <div class="w-full bg-indigo-500 h-[35%] group-hover:bg-indigo-600 transition-colors border-t border-white/20"></div>
                                </div>
                                <span class="text-[10px] text-slate-400 font-bold text-slate-600">Wed</span>
                            </div>

                            <!-- Bar Item -->
                            <div class="flex flex-col items-center gap-2 w-full group relative cursor-pointer">
                                <div class="w-full max-w-[24px] bg-slate-100 h-48 relative flex flex-col justify-end overflow-hidden">
                                    <div class="w-full bg-emerald-400 h-[45%] group-hover:bg-emerald-500 transition-colors"></div>
                                    <div class="w-full bg-indigo-500 h-[20%] group-hover:bg-indigo-600 transition-colors border-t border-white/20"></div>
                                </div>
                                <span class="text-[10px] text-slate-400">Thu</span>
                            </div>

                            <!-- Bar Item -->
                            <div class="flex flex-col items-center gap-2 w-full group relative cursor-pointer">
                                <div class="w-full max-w-[24px] bg-slate-100 h-48 relative flex flex-col justify-end overflow-hidden">
                                    <div class="w-full bg-emerald-400 h-[55%] group-hover:bg-emerald-500 transition-colors"></div>
                                    <div class="w-full bg-indigo-500 h-[40%] group-hover:bg-indigo-600 transition-colors border-t border-white/20"></div>
                                </div>
                                <span class="text-[10px] text-slate-400">Fri</span>
                            </div>

                            <!-- Bar Item -->
                            <div class="flex flex-col items-center gap-2 w-full group relative cursor-pointer">
                                <div class="w-full max-w-[24px] bg-slate-100 h-48 relative flex flex-col justify-end overflow-hidden">
                                    <div class="w-full bg-emerald-400 h-[30%] group-hover:bg-emerald-500 transition-colors"></div>
                                    <div class="w-full bg-indigo-500 h-[15%] group-hover:bg-indigo-600 transition-colors border-t border-white/20"></div>
                                </div>
                                <span class="text-[10px] text-slate-400">Sat</span>
                            </div>

                            <!-- Bar Item -->
                            <div class="flex flex-col items-center gap-2 w-full group relative cursor-pointer">
                                <div class="w-full max-w-[24px] bg-slate-100 h-48 relative flex flex-col justify-end overflow-hidden">
                                    <div class="w-full bg-emerald-400 h-[35%] group-hover:bg-emerald-500 transition-colors"></div>
                                    <div class="w-full bg-indigo-500 h-[10%] group-hover:bg-indigo-600 transition-colors border-t border-white/20"></div>
                                </div>
                                <span class="text-[10px] text-slate-400">Sun</span>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity (Preserved) -->
                    <div class="bg-white border border-slate-200 shadow-sm p-6">
                        <h3 class="font-bold text-slate-800 text-sm mb-4">Recent Activity</h3>
                        <div class="space-y-6 relative">
                            <div class="absolute left-2.5 top-2 bottom-2 w-px bg-slate-100"></div>
                            <div class="flex gap-4 relative">
                                <div class="w-5 h-5 bg-blue-100 border-2 border-white flex items-center justify-center z-10"><div class="w-2 h-2 bg-blue-500"></div></div>
                                <div><p class="text-xs text-slate-800 font-medium">New enterprise plan</p><p class="text-[10px] text-slate-400 mt-0.5">Acme Corp upgraded</p><p class="text-[10px] text-slate-300 mt-1">2 mins ago</p></div>
                            </div>
                            <div class="flex gap-4 relative">
                                <div class="w-5 h-5 bg-orange-100 border-2 border-white flex items-center justify-center z-10"><div class="w-2 h-2 bg-orange-500"></div></div>
                                <div><p class="text-xs text-slate-800 font-medium">Server load warning</p><p class="text-[10px] text-slate-400 mt-0.5">CPU > 80% us-east</p><p class="text-[10px] text-slate-300 mt-1">1 hour ago</p></div>
                            </div>
                            <div class="flex gap-4 relative">
                                <div class="w-5 h-5 bg-emerald-100 border-2 border-white flex items-center justify-center z-10"><div class="w-2 h-2 bg-emerald-500"></div></div>
                                <div><p class="text-xs text-slate-800 font-medium">Feature deployed</p><p class="text-[10px] text-slate-400 mt-0.5">v2.4.0 live</p><p class="text-[10px] text-slate-300 mt-1">3 hours ago</p></div>
                            </div>
                        </div>
                        <button class="w-full mt-6 py-2 border border-slate-100 text-xs text-slate-500 hover:bg-slate-50 transition-colors">View All Activity</button>
                    </div>
                </div>
            </div>

            <!-- VIEW 1: CONVERSION FUNNEL -->
            <div id="page-conversion" class="fade-in hidden">
                <!-- Page Header -->
                <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
                    <div>
                        <h2 class="text-xl font-bold text-slate-900 tracking-tight">Conversion Performance</h2>
                        <p class="text-sm text-slate-500 mt-1">See how new users progress toward their first meaningful action</p>
                    </div>
                    <div class="flex gap-2">
                        <button class="p-2 bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 shadow-sm transition-all"><i data-lucide="calendar" class="w-[18px] h-[18px]"></i></button>
                        <button class="p-2 bg-white border border-slate-200 text-slate-400 hover:bg-slate-50 hover:text-slate-600 shadow-sm transition-all"><i data-lucide="download" class="w-[18px] h-[18px]"></i></button>
                    </div>
                </div>

                <!-- Section 1: KPI Cards (FLAT & Two-Tone Footer) -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                    <!-- Card 1: Conversion Rate -->
                    <div class="bg-white border border-slate-200 shadow-sm hover:shadow-md transition-shadow duration-300 relative overflow-hidden group flex flex-col">
                        <div class="p-6 flex-1">
                            <div class="flex justify-between items-start mb-4">
                                <div><h3 class="text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wide">Conversion Rate</h3><div class="text-2xl font-bold text-slate-900 tracking-tight">24.30%</div><div class="text-[11px] text-slate-400 mt-1">Visit To Purchase</div></div>
                                <div class="pt-1"><i data-lucide="arrow-up-right" class="w-4 h-4 text-slate-300 group-hover:text-emerald-500 transition-colors"></i></div>
                            </div>
                            <div class="flex items-end justify-between mt-6">
                                <div class="text-[11px] font-medium px-2 py-1 flex items-center gap-1 text-emerald-700 bg-emerald-50 border border-emerald-100"><i data-lucide="trending-up" class="w-3 h-3"></i> +6%</div>
                                <div class="h-10 w-24 flex items-end gap-[2px]">
                                    <div class="w-full bg-emerald-400 opacity-40 h-[20%]"></div><div class="w-full bg-emerald-400 opacity-50 h-[40%]"></div><div class="w-full bg-emerald-400 opacity-60 h-[35%]"></div><div class="w-full bg-emerald-400 opacity-70 h-[60%]"></div><div class="w-full bg-emerald-400 opacity-80 h-[50%]"></div><div class="w-full bg-emerald-400 opacity-90 h-[75%]"></div><div class="w-full bg-emerald-400 opacity-100 h-[65%]"></div><div class="w-full bg-emerald-400 opacity-100 h-[90%]"></div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-slate-50 px-6 py-3 border-t border-slate-100 text-[10px] text-slate-500">
                            Conversion Increased by <span class="font-bold text-slate-700">6%</span> vs last month
                        </div>
                    </div>

                    <!-- Card 2: Total Revenue -->
                    <div class="bg-white border border-slate-200 shadow-sm hover:shadow-md transition-shadow duration-300 relative overflow-hidden group flex flex-col">
                        <div class="p-6 flex-1">
                            <div class="flex justify-between items-start mb-4">
                                <div><h3 class="text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wide">Total Revenue</h3><div class="text-2xl font-bold text-slate-900 tracking-tight">$1,601,241</div><div class="text-[11px] text-slate-400 mt-1">Excluding Returns</div></div>
                                <div class="pt-1"><i data-lucide="arrow-up-right" class="w-4 h-4 text-slate-300 group-hover:text-rose-500 transition-colors"></i></div>
                            </div>
                            <div class="flex items-end justify-between mt-6">
                                <div class="text-[11px] font-medium px-2 py-1 flex items-center gap-1 text-rose-700 bg-rose-50 border border-rose-100"><i data-lucide="trending-down" class="w-3 h-3"></i> -$1,250</div>
                                <div class="h-10 w-24 flex items-end gap-[2px]">
                                    <div class="w-full bg-rose-400 opacity-40 h-[50%]"></div><div class="w-full bg-rose-400 opacity-50 h-[70%]"></div><div class="w-full bg-rose-400 opacity-60 h-[45%]"></div><div class="w-full bg-rose-400 opacity-70 h-[30%]"></div><div class="w-full bg-rose-400 opacity-80 h-[60%]"></div><div class="w-full bg-rose-400 opacity-90 h-[40%]"></div><div class="w-full bg-rose-400 opacity-100 h-[35%]"></div><div class="w-full bg-rose-400 opacity-100 h-[20%]"></div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-slate-50 px-6 py-3 border-t border-slate-100 text-[10px] text-slate-500">
                            Revenue Decreased by <span class="font-bold text-rose-600">$1,250</span> vs last month
                        </div>
                    </div>

                    <!-- Card 3: Total Visitors -->
                    <div class="bg-white border border-slate-200 shadow-sm hover:shadow-md transition-shadow duration-300 relative overflow-hidden group flex flex-col">
                        <div class="p-6 flex-1">
                            <div class="flex justify-between items-start mb-4">
                                <div><h3 class="text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wide">Total Visitors</h3><div class="text-2xl font-bold text-slate-900 tracking-tight">22,407,705</div><div class="text-[11px] text-slate-400 mt-1">All Website Visitors</div></div>
                                <div class="pt-1"><i data-lucide="arrow-up-right" class="w-4 h-4 text-slate-300 group-hover:text-emerald-500 transition-colors"></i></div>
                            </div>
                            <div class="flex items-end justify-between mt-6">
                                <div class="text-[11px] font-medium px-2 py-1 flex items-center gap-1 text-emerald-700 bg-emerald-50 border border-emerald-100"><i data-lucide="trending-up" class="w-3 h-3"></i> +33K</div>
                                <div class="h-10 w-24 flex items-end gap-[2px]">
                                    <div class="w-full bg-emerald-400 opacity-40 h-[25%]"></div><div class="w-full bg-emerald-400 opacity-50 h-[35%]"></div><div class="w-full bg-emerald-400 opacity-60 h-[55%]"></div><div class="w-full bg-emerald-400 opacity-70 h-[45%]"></div><div class="w-full bg-emerald-400 opacity-80 h-[65%]"></div><div class="w-full bg-emerald-400 opacity-90 h-[85%]"></div><div class="w-full bg-emerald-400 opacity-100 h-[70%]"></div><div class="w-full bg-emerald-400 opacity-100 h-[95%]"></div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-slate-50 px-6 py-3 border-t border-slate-100 text-[10px] text-slate-500">
                            Visitors Increased by <span class="font-bold text-slate-700">33,857</span> vs last month
                        </div>
                    </div>
                </div>

                <!-- Section 2 Header -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                     <div class="bg-white p-4 border border-slate-200 shadow-sm"><div class="text-[11px] font-semibold text-slate-500 uppercase tracking-wide">Total Sessions</div><div class="flex items-end gap-2 mt-1"><div class="text-xl font-bold text-slate-900">142.3K</div><div class="text-[10px] text-emerald-600 font-medium mb-1">+12%</div></div></div>
                     <div class="bg-white p-4 border border-slate-200 shadow-sm"><div class="text-[11px] font-semibold text-slate-500 uppercase tracking-wide">Avg. Duration</div><div class="flex items-end gap-2 mt-1"><div class="text-xl font-bold text-slate-900">4m 32s</div><div class="text-[10px] text-emerald-600 font-medium mb-1">+3%</div></div></div>
                     <div class="bg-white p-4 border border-slate-200 shadow-sm"><div class="text-[11px] font-semibold text-slate-500 uppercase tracking-wide">Bounce Rate</div><div class="flex items-end gap-2 mt-1"><div class="text-xl font-bold text-slate-900">42.8%</div><div class="text-[10px] text-rose-500 font-medium mb-1">+2%</div></div></div>
                     <div class="bg-white p-4 border border-slate-200 shadow-sm"><div class="text-[11px] font-semibold text-slate-500 uppercase tracking-wide">Goal Completions</div><div class="flex items-end gap-2 mt-1"><div class="text-xl font-bold text-slate-900">8,921</div><div class="text-[10px] text-emerald-600 font-medium mb-1">+8.5%</div></div></div>
                </div>

                <!-- Main Content Split (FLAT) -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Left: Channel Table (2/3) -->
                    <div class="lg:col-span-2 bg-white border border-slate-200 shadow-sm overflow-hidden">
                        <div class="p-5 border-b border-slate-100 flex justify-between items-center"><h3 class="font-bold text-slate-800 text-sm">Acquisition by Channel</h3><button class="text-xs text-orange-600 font-medium hover:text-orange-700">View Full Report</button></div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm text-slate-600">
                                <thead class="bg-slate-50 text-xs uppercase text-slate-500 font-semibold"><tr><th class="px-5 py-3 tracking-wide">Channel</th><th class="px-5 py-3 tracking-wide text-right">Users</th><th class="px-5 py-3 tracking-wide text-right">Sessions</th><th class="px-5 py-3 tracking-wide text-right">Conv. Rate</th><th class="px-5 py-3 tracking-wide text-right">Revenue</th></tr></thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr class="table-row-hover transition-colors"><td class="px-5 py-4 font-medium text-slate-900 flex items-center gap-2"><div class="w-2 h-2 bg-indigo-500"></div> Direct</td><td class="px-5 py-4 text-right">45,201</td><td class="px-5 py-4 text-right">58,100</td><td class="px-5 py-4 text-right text-emerald-600">4.2%</td><td class="px-5 py-4 text-right font-medium">$120,400</td></tr>
                                    <tr class="table-row-hover transition-colors"><td class="px-5 py-4 font-medium text-slate-900 flex items-center gap-2"><div class="w-2 h-2 bg-emerald-500"></div> Organic Search</td><td class="px-5 py-4 text-right">82,100</td><td class="px-5 py-4 text-right">104,230</td><td class="px-5 py-4 text-right text-emerald-600">2.8%</td><td class="px-5 py-4 text-right font-medium">$98,200</td></tr>
                                    <tr class="table-row-hover transition-colors"><td class="px-5 py-4 font-medium text-slate-900 flex items-center gap-2"><div class="w-2 h-2 bg-sky-500"></div> Social</td><td class="px-5 py-4 text-right">24,500</td><td class="px-5 py-4 text-right">32,100</td><td class="px-5 py-4 text-right text-slate-500">1.2%</td><td class="px-5 py-4 text-right font-medium">$15,300</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- Right: Traffic Distribution (1/3) -->
                    <div class="bg-white border border-slate-200 shadow-sm p-6 flex flex-col">
                        <h3 class="font-bold text-slate-800 text-sm mb-6">Traffic Share</h3>
                        <div class="flex-1 flex flex-col gap-6">
                            <div><div class="flex justify-between text-xs mb-1"><span class="font-medium text-slate-700">Organic Search</span><span class="text-slate-500">45%</span></div><div class="w-full bg-slate-100 h-2"><div class="bg-emerald-500 h-2" style="width: 45%"></div></div></div>
                            <div><div class="flex justify-between text-xs mb-1"><span class="font-medium text-slate-700">Direct</span><span class="text-slate-500">25%</span></div><div class="w-full bg-slate-100 h-2"><div class="bg-indigo-500 h-2" style="width: 25%"></div></div></div>
                            <div><div class="flex justify-between text-xs mb-1"><span class="font-medium text-slate-700">Social</span><span class="text-slate-500">15%</span></div><div class="w-full bg-slate-100 h-2"><div class="bg-sky-500 h-2" style="width: 15%"></div></div></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW 2: MARKETING CHANNELS -->
            <div id="page-marketing" class="fade-in hidden">
                 <!-- Header -->
                <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
                    <div>
                        <h2 class="text-xl font-bold text-slate-900 tracking-tight">Marketing Channels</h2>
                        <p class="text-sm text-slate-500 mt-1">Deep dive into traffic sources and acquisition performance</p>
                    </div>
                    <button class="flex items-center gap-2 px-3 py-2 bg-white border border-slate-200 text-sm text-slate-600 hover:bg-slate-50 transition-colors shadow-sm"><i data-lucide="calendar-days" class="w-4 h-4 text-slate-400"></i><span>Last 30 Days</span><i data-lucide="chevron-down" class="w-3.5 h-3.5 text-slate-400"></i></button>
                </div>

                <!-- Top Stats Row (FLAT) -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                     <div class="bg-white p-4 border border-slate-200 shadow-sm"><div class="text-[11px] font-semibold text-slate-500 uppercase tracking-wide">Total Sessions</div><div class="flex items-end gap-2 mt-1"><div class="text-xl font-bold text-slate-900">142.3K</div><div class="text-[10px] text-emerald-600 font-medium mb-1">+12%</div></div></div>
                     <div class="bg-white p-4 border border-slate-200 shadow-sm"><div class="text-[11px] font-semibold text-slate-500 uppercase tracking-wide">Avg. Duration</div><div class="flex items-end gap-2 mt-1"><div class="text-xl font-bold text-slate-900">4m 32s</div><div class="text-[10px] text-emerald-600 font-medium mb-1">+3%</div></div></div>
                     <div class="bg-white p-4 border border-slate-200 shadow-sm"><div class="text-[11px] font-semibold text-slate-500 uppercase tracking-wide">Bounce Rate</div><div class="flex items-end gap-2 mt-1"><div class="text-xl font-bold text-slate-900">42.8%</div><div class="text-[10px] text-rose-500 font-medium mb-1">+2%</div></div></div>
                     <div class="bg-white p-4 border border-slate-200 shadow-sm"><div class="text-[11px] font-semibold text-slate-500 uppercase tracking-wide">Goal Completions</div><div class="flex items-end gap-2 mt-1"><div class="text-xl font-bold text-slate-900">8,921</div><div class="text-[10px] text-emerald-600 font-medium mb-1">+8.5%</div></div></div>
                </div>

                <!-- Main Content Split (FLAT) -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Left: Channel Table (2/3) -->
                    <div class="lg:col-span-2 bg-white border border-slate-200 shadow-sm overflow-hidden">
                        <div class="p-5 border-b border-slate-100 flex justify-between items-center"><h3 class="font-bold text-slate-800 text-sm">Acquisition by Channel</h3><button class="text-xs text-orange-600 font-medium hover:text-orange-700">View Full Report</button></div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm text-slate-600">
                                <thead class="bg-slate-50 text-xs uppercase text-slate-500 font-semibold"><tr><th class="px-5 py-3 tracking-wide">Channel</th><th class="px-5 py-3 tracking-wide text-right">Users</th><th class="px-5 py-3 tracking-wide text-right">Sessions</th><th class="px-5 py-3 tracking-wide text-right">Conv. Rate</th><th class="px-5 py-3 tracking-wide text-right">Revenue</th></tr></thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr class="table-row-hover transition-colors"><td class="px-5 py-4 font-medium text-slate-900 flex items-center gap-2"><div class="w-2 h-2 bg-indigo-500"></div> Direct</td><td class="px-5 py-4 text-right">45,201</td><td class="px-5 py-4 text-right">58,100</td><td class="px-5 py-4 text-right text-emerald-600">4.2%</td><td class="px-5 py-4 text-right font-medium">$120,400</td></tr>
                                    <tr class="table-row-hover transition-colors"><td class="px-5 py-4 font-medium text-slate-900 flex items-center gap-2"><div class="w-2 h-2 bg-emerald-500"></div> Organic Search</td><td class="px-5 py-4 text-right">82,100</td><td class="px-5 py-4 text-right">104,230</td><td class="px-5 py-4 text-right text-emerald-600">2.8%</td><td class="px-5 py-4 text-right font-medium">$98,200</td></tr>
                                    <tr class="table-row-hover transition-colors"><td class="px-5 py-4 font-medium text-slate-900 flex items-center gap-2"><div class="w-2 h-2 bg-sky-500"></div> Social</td><td class="px-5 py-4 text-right">24,500</td><td class="px-5 py-4 text-right">32,100</td><td class="px-5 py-4 text-right text-slate-500">1.2%</td><td class="px-5 py-4 text-right font-medium">$15,300</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- Right: Traffic Distribution (1/3) -->
                    <div class="bg-white border border-slate-200 shadow-sm p-6 flex flex-col">
                        <h3 class="font-bold text-slate-800 text-sm mb-6">Traffic Share</h3>
                        <div class="flex-1 flex flex-col gap-6">
                            <div><div class="flex justify-between text-xs mb-1"><span class="font-medium text-slate-700">Organic Search</span><span class="text-slate-500">45%</span></div><div class="w-full bg-slate-100 h-2"><div class="bg-emerald-500 h-2" style="width: 45%"></div></div></div>
                            <div><div class="flex justify-between text-xs mb-1"><span class="font-medium text-slate-700">Direct</span><span class="text-slate-500">25%</span></div><div class="w-full bg-slate-100 h-2"><div class="bg-indigo-500 h-2" style="width: 25%"></div></div></div>
                            <div><div class="flex justify-between text-xs mb-1"><span class="font-medium text-slate-700">Social</span><span class="text-slate-500">15%</span></div><div class="w-full bg-slate-100 h-2"><div class="bg-sky-500 h-2" style="width: 15%"></div></div></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW 3: ADS REPORT -->
            <div id="page-ads" class="fade-in hidden">
                 <!-- Header -->
                <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
                    <div><h2 class="text-xl font-bold text-slate-900 tracking-tight">Ads Performance Report</h2><p class="text-sm text-slate-500 mt-1">Campaign ROI analysis across all paid channels</p></div>
                    <div class="flex gap-2">
                         <button class="flex items-center gap-2 px-3 py-2 bg-white border border-slate-200 text-sm text-slate-600 hover:bg-slate-50 transition-colors shadow-sm"><i data-lucide="filter" class="w-4 h-4 text-slate-400"></i><span>Filter</span></button>
                        <button class="flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white text-sm font-medium hover:bg-indigo-700 transition-colors shadow-sm shadow-indigo-200"><i data-lucide="download" class="w-4 h-4"></i><span>Export CSV</span></button>
                    </div>
                </div>

                <!-- KPI Banner (FLAT) -->
                <div class="bg-indigo-900 p-6 text-white shadow-lg mb-8 relative overflow-hidden">
                    <div class="absolute right-0 top-0 w-64 h-full bg-gradient-to-l from-indigo-800 to-transparent opacity-50"></div>
                    <div class="relative z-10 grid grid-cols-2 md:grid-cols-4 gap-8">
                        <div><div class="text-indigo-200 text-xs font-semibold uppercase tracking-wider mb-1">Total Ad Spend</div><div class="text-2xl font-bold">$12,450</div><div class="text-[11px] text-indigo-300 mt-1 flex items-center gap-1"><i data-lucide="trending-up" class="w-3 h-3"></i> +14% vs last mo</div></div>
                        <div><div class="text-indigo-200 text-xs font-semibold uppercase tracking-wider mb-1">Impressions</div><div class="text-2xl font-bold">850.2K</div><div class="text-[11px] text-indigo-300 mt-1 flex items-center gap-1"><i data-lucide="trending-up" class="w-3 h-3"></i> +8.2% vs last mo</div></div>
                         <div><div class="text-indigo-200 text-xs font-semibold uppercase tracking-wider mb-1">Avg. CPC</div><div class="text-2xl font-bold">$1.42</div><div class="text-[11px] text-indigo-300 mt-1 flex items-center gap-1"><i data-lucide="trending-down" class="w-3 h-3"></i> -2% (Better)</div></div>
                         <div><div class="text-indigo-200 text-xs font-semibold uppercase tracking-wider mb-1">ROAS</div><div class="text-2xl font-bold text-emerald-400">4.2x</div><div class="text-[11px] text-indigo-300 mt-1 flex items-center gap-1"><i data-lucide="trending-up" class="w-3 h-3"></i> +0.4x vs last mo</div></div>
                    </div>
                </div>

                <!-- Main Content Grid (FLAT) -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Left: Campaign Table (2/3) -->
                    <div class="lg:col-span-2 bg-white border border-slate-200 shadow-sm flex flex-col">
                        <div class="p-5 border-b border-slate-100 flex justify-between items-center"><h3 class="font-bold text-slate-800 text-sm">Active Campaigns</h3><div class="flex gap-2"><span class="w-2 h-2 bg-emerald-500"></span><span class="text-xs text-slate-500">Live</span></div></div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm text-slate-600">
                                <thead class="bg-slate-50 text-xs uppercase text-slate-500 font-semibold"><tr><th class="px-5 py-3 tracking-wide">Campaign</th><th class="px-5 py-3 tracking-wide">Status</th><th class="px-5 py-3 tracking-wide text-right">Spend</th><th class="px-5 py-3 tracking-wide text-right">Conv.</th><th class="px-5 py-3 tracking-wide text-right">CPA</th></tr></thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr class="table-row-hover transition-colors"><td class="px-5 py-4 font-medium text-slate-900"><div>Summer Sale - Search</div><div class="text-[10px] text-slate-400 font-normal">Google Ads</div></td><td class="px-5 py-4"><span class="px-2 py-1 bg-emerald-100 text-emerald-700 text-[10px] font-bold">ACTIVE</span></td><td class="px-5 py-4 text-right font-medium">$4,200</td><td class="px-5 py-4 text-right">320</td><td class="px-5 py-4 text-right text-slate-500">$13.12</td></tr>
                                     <tr class="table-row-hover transition-colors"><td class="px-5 py-4 font-medium text-slate-900"><div>Retargeting - Q1</div><div class="text-[10px] text-slate-400 font-normal">Facebook Ads</div></td><td class="px-5 py-4"><span class="px-2 py-1 bg-emerald-100 text-emerald-700 text-[10px] font-bold">ACTIVE</span></td><td class="px-5 py-4 text-right font-medium">$2,150</td><td class="px-5 py-4 text-right">145</td><td class="px-5 py-4 text-right text-slate-500">$14.80</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- Right: Platform Breakdown (1/3) -->
                    <div class="space-y-6">
                        <div class="bg-white p-5 border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex justify-between items-start mb-2"><div class="flex items-center gap-2"><div class="w-6 h-6 bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-[10px]">G</div><span class="font-bold text-sm text-slate-700">Google Ads</span></div><span class="text-xs font-bold text-slate-900">$7,300</span></div>
                            <div class="w-full bg-slate-100 h-1.5 mb-2"><div class="bg-blue-500 h-1.5" style="width: 65%"></div></div>
                            <div class="flex justify-between text-[10px] text-slate-500"><span>65% of Spend</span><span class="text-emerald-600">ROAS 4.8x</span></div>
                        </div>
                        <div class="bg-white p-5 border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <div class="flex justify-between items-start mb-2"><div class="flex items-center gap-2"><div class="w-6 h-6 bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-[10px]">fb</div><span class="font-bold text-sm text-slate-700">Facebook / IG</span></div><span class="text-xs font-bold text-slate-900">$3,200</span></div>
                            <div class="w-full bg-slate-100 h-1.5 mb-2"><div class="bg-indigo-500 h-1.5" style="width: 25%"></div></div>
                            <div class="flex justify-between text-[10px] text-slate-500"><span>25% of Spend</span><span class="text-emerald-600">ROAS 3.1x</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW 4: COHORT -->
            <div id="page-cohort" class="fade-in hidden">
                 <!-- Header -->
                <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
                    <div><h2 class="text-xl font-bold text-slate-900 tracking-tight">Retention Cohorts</h2><p class="text-sm text-slate-500 mt-1">Analyze user retention over time based on acquisition date</p></div>
                    <div class="flex gap-2">
                        <button class="flex items-center gap-2 px-3 py-2 bg-white border border-slate-200 text-sm text-slate-600 hover:bg-slate-50 transition-colors shadow-sm"><i data-lucide="filter" class="w-4 h-4 text-slate-400"></i><span>Weekly</span></button>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                    <!-- Main Cohort Table (3/4) (FLAT) -->
                    <div class="lg:col-span-3 bg-white border border-slate-200 shadow-sm overflow-hidden">
                        <div class="p-5 border-b border-slate-100"><h3 class="font-bold text-slate-800 text-sm">Weekly Retention Heatmap</h3></div>
                        <div class="overflow-x-auto p-6">
                            <table class="w-full text-center text-xs">
                                <thead><tr><th class="text-left pb-4 font-semibold text-slate-500 min-w-[120px]">Cohort</th><th class="pb-4 font-semibold text-slate-500 min-w-[80px]">Users</th><th class="pb-4 font-semibold text-slate-500">Week 0</th><th class="pb-4 font-semibold text-slate-500">Week 1</th><th class="pb-4 font-semibold text-slate-500">Week 2</th><th class="pb-4 font-semibold text-slate-500">Week 3</th><th class="pb-4 font-semibold text-slate-500">Week 4</th></tr></thead>
                                <tbody class="space-y-2">
                                    <tr class="h-10"><td class="text-left font-medium text-slate-700">Dec 01 - Dec 07</td><td class="text-slate-500">2,450</td><td class="px-1"><div class="bg-indigo-600 text-white py-2">100%</div></td><td class="px-1"><div class="bg-indigo-400 text-white py-2">45%</div></td><td class="px-1"><div class="bg-indigo-300 text-white py-2">32%</div></td><td class="px-1"><div class="bg-indigo-200 text-indigo-900 py-2">28%</div></td><td class="px-1"><div class="bg-indigo-100 text-indigo-900 py-2">25%</div></td></tr>
                                    <tr class="h-10"><td class="text-left font-medium text-slate-700">Dec 08 - Dec 14</td><td class="text-slate-500">2,680</td><td class="px-1"><div class="bg-indigo-600 text-white py-2">100%</div></td><td class="px-1"><div class="bg-indigo-400 text-white py-2">48%</div></td><td class="px-1"><div class="bg-indigo-300 text-white py-2">35%</div></td><td class="px-1"><div class="bg-indigo-200 text-indigo-900 py-2">30%</div></td><td class="px-1"><div class="bg-indigo-100 text-indigo-900 py-2">28%</div></td></tr>
                                    <tr class="h-10"><td class="text-left font-medium text-slate-700">Dec 15 - Dec 21</td><td class="text-slate-500">3,100</td><td class="px-1"><div class="bg-indigo-600 text-white py-2">100%</div></td><td class="px-1"><div class="bg-indigo-400 text-white py-2">42%</div></td><td class="px-1"><div class="bg-indigo-300 text-white py-2">30%</div></td><td class="px-1"><div class="bg-indigo-200 text-indigo-900 py-2">25%</div></td><td class="px-1"></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- Right: Summary & Legend (1/4) (FLAT) -->
                    <div class="space-y-6">
                        <div class="bg-white p-5 border border-slate-200 shadow-sm">
                            <h3 class="font-bold text-slate-800 text-sm mb-4">Cohort Insights</h3>
                            <div class="space-y-4">
                                <div><div class="text-[10px] text-slate-400 uppercase font-semibold">Avg. Week 1 Retention</div><div class="text-2xl font-bold text-slate-900 mt-1">47.2%</div><div class="text-[10px] text-emerald-600 flex items-center gap-1 mt-1"><i data-lucide="arrow-up" class="w-3 h-3"></i> +2.4% vs prev period</div></div>
                                <div class="w-full h-px bg-slate-100"></div>
                                <div><div class="text-[10px] text-slate-400 uppercase font-semibold">Best Performing Cohort</div><div class="text-sm font-bold text-slate-900 mt-1">Dec 22 - Dec 28</div><p class="text-[10px] text-slate-500 mt-1">Driven by Holiday Special campaign.</p></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW 5: LIFECYCLE -->
            <div id="page-lifecycle" class="fade-in hidden">
                 <!-- Header -->
                <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
                    <div><h2 class="text-xl font-bold text-slate-900 tracking-tight">Paid User Lifecycle</h2><p class="text-sm text-slate-500 mt-1">Track financial journey from trial to loyal customer</p></div>
                    <div class="flex gap-2"><button class="flex items-center gap-2 px-3 py-2 bg-white border border-slate-200 text-sm text-slate-600 hover:bg-slate-50 transition-colors shadow-sm"><i data-lucide="calendar" class="w-4 h-4 text-slate-400"></i><span>This Year</span></button></div>
                </div>

                <!-- Financial KPIs (FLAT) -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white p-5 border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                        <div class="flex items-center gap-2 mb-2"><i data-lucide="dollar-sign" class="w-4 h-4 text-slate-400"></i><span class="text-xs font-semibold text-slate-500 uppercase tracking-wide">Avg. LTV</span></div><div class="text-2xl font-bold text-slate-900">$1,240</div><div class="text-[10px] text-emerald-600 mt-1">+12% vs avg.</div>
                    </div>
                    <div class="bg-white p-5 border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                        <div class="flex items-center gap-2 mb-2"><i data-lucide="target" class="w-4 h-4 text-slate-400"></i><span class="text-xs font-semibold text-slate-500 uppercase tracking-wide">CAC</span></div><div class="text-2xl font-bold text-slate-900">$340</div><div class="text-[10px] text-slate-400 mt-1">Stable</div>
                    </div>
                    <div class="bg-white p-5 border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                        <div class="flex items-center gap-2 mb-2"><i data-lucide="repeat" class="w-4 h-4 text-slate-400"></i><span class="text-xs font-semibold text-slate-500 uppercase tracking-wide">LTV:CAC Ratio</span></div><div class="text-2xl font-bold text-emerald-600">3.6x</div><div class="text-[10px] text-slate-400 mt-1">Healthy (>3x)</div>
                    </div>
                     <div class="bg-white p-5 border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                        <div class="flex items-center gap-2 mb-2"><i data-lucide="clock" class="w-4 h-4 text-slate-400"></i><span class="text-xs font-semibold text-slate-500 uppercase tracking-wide">Payback Period</span></div><div class="text-2xl font-bold text-slate-900">4.2 Mo</div><div class="text-[10px] text-emerald-600 mt-1">-0.5 Mo (Faster)</div>
                    </div>
                </div>

                <!-- Main Flow Visualization (FLAT) -->
                <div class="bg-white border border-slate-200 shadow-sm p-6 mb-8 overflow-hidden">
                    <h3 class="font-bold text-slate-800 text-sm mb-6">User Conversion Flow</h3>
                    <div class="flex flex-col md:flex-row items-center justify-between gap-4 relative">
                        <div class="hidden md:block absolute top-1/2 left-0 w-full h-0.5 bg-slate-100 -z-10 -translate-y-1/2"></div>
                        <!-- Step 1 -->
                        <div class="bg-white border border-slate-200 p-4 w-full md:w-1/4 relative shadow-sm hover:border-orange-200 transition-colors">
                            <div class="text-[10px] text-slate-400 uppercase font-bold mb-1">Step 1</div><div class="font-bold text-slate-800 text-lg">Sign Up</div><div class="text-2xl font-bold text-slate-900 mt-2">15,200</div><div class="w-full bg-slate-100 h-1.5 mt-3 overflow-hidden"><div class="bg-slate-400 h-full w-full"></div></div>
                        </div>
                        <i data-lucide="arrow-right" class="w-6 h-6 text-slate-300 hidden md:block"></i>
                        <!-- Step 2 -->
                        <div class="bg-white border border-slate-200 p-4 w-full md:w-1/4 relative shadow-sm hover:border-orange-200 transition-colors">
                            <div class="text-[10px] text-slate-400 uppercase font-bold mb-1">Step 2</div><div class="font-bold text-slate-800 text-lg">Trial Active</div><div class="text-2xl font-bold text-slate-900 mt-2">8,450</div><div class="text-[10px] text-slate-500 mt-1">55% Conversion</div><div class="w-full bg-slate-100 h-1.5 mt-2 overflow-hidden"><div class="bg-orange-300 h-full w-[55%]"></div></div>
                        </div>
                         <i data-lucide="arrow-right" class="w-6 h-6 text-slate-300 hidden md:block"></i>
                        <!-- Step 3 -->
                        <div class="bg-white border-2 border-orange-100 p-4 w-full md:w-1/4 relative shadow-sm bg-orange-50/50">
                            <div class="text-[10px] text-orange-600 uppercase font-bold mb-1">Step 3</div><div class="font-bold text-slate-800 text-lg">Paid Customer</div><div class="text-2xl font-bold text-orange-600 mt-2">1,240</div><div class="text-[10px] text-slate-500 mt-1">14.6% Conversion</div><div class="w-full bg-slate-100 h-1.5 mt-2 overflow-hidden"><div class="bg-orange-500 h-full w-[14%]"></div></div>
                        </div>
                         <i data-lucide="arrow-right" class="w-6 h-6 text-slate-300 hidden md:block"></i>
                        <!-- Step 4 -->
                        <div class="bg-white border border-slate-200 p-4 w-full md:w-1/4 relative shadow-sm hover:border-orange-200 transition-colors">
                            <div class="text-[10px] text-slate-400 uppercase font-bold mb-1">Step 4</div><div class="font-bold text-slate-800 text-lg">Renewal</div><div class="text-2xl font-bold text-slate-900 mt-2">980</div><div class="text-[10px] text-slate-500 mt-1">79% Retention</div><div class="w-full bg-slate-100 h-1.5 mt-2 overflow-hidden"><div class="bg-emerald-500 h-full w-[79%]"></div></div>
                        </div>
                    </div>
                </div>

                <!-- Bottom Split (FLAT) -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Recent Conversions Table -->
                    <div class="lg:col-span-2 bg-white border border-slate-200 shadow-sm overflow-hidden">
                         <div class="p-5 border-b border-slate-100"><h3 class="font-bold text-slate-800 text-sm">Recent Paid Conversions</h3></div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm text-slate-600">
                                <thead class="bg-slate-50 text-xs uppercase text-slate-500 font-semibold"><tr><th class="px-5 py-3">User</th><th class="px-5 py-3">Plan</th><th class="px-5 py-3">Date</th><th class="px-5 py-3 text-right">Value</th></tr></thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr class="table-row-hover"><td class="px-5 py-3 font-medium text-slate-900">acme_inc@company.com</td><td class="px-5 py-3"><span class="bg-orange-100 text-orange-700 px-2 py-0.5 text-[10px] font-bold">PRO</span></td><td class="px-5 py-3 text-slate-500 text-xs">Today, 10:23 AM</td><td class="px-5 py-3 text-right font-medium">$499.00</td></tr>
                                    <tr class="table-row-hover"><td class="px-5 py-3 font-medium text-slate-900">sarah.j@startup.io</td><td class="px-5 py-3"><span class="bg-slate-100 text-slate-600 px-2 py-0.5 text-[10px] font-bold">STARTER</span></td><td class="px-5 py-3 text-slate-500 text-xs">Yesterday</td><td class="px-5 py-3 text-right font-medium">$99.00</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- Churn Analysis -->
                    <div class="bg-white border border-slate-200 shadow-sm p-6">
                        <h3 class="font-bold text-slate-800 text-sm mb-4">Churn Reasons</h3>
                        <div class="flex items-center gap-4">
                            <div class="w-24 h-24 border-[12px] border-slate-100 relative shrink-0 rounded-full" style="background: conic-gradient(#f43f5e 0% 35%, #fb923c 35% 60%, #cbd5e1 60% 100%); border-width: 0;"><div class="absolute inset-4 bg-white rounded-full flex items-center justify-center"><span class="text-xs font-bold text-slate-600">Total</span></div></div>
                            <div class="space-y-2 w-full">
                                <div class="flex justify-between text-xs"><div class="flex items-center gap-2"><div class="w-2 h-2 bg-rose-500"></div> Price too high</div><span class="font-bold">35%</span></div>
                                <div class="flex justify-between text-xs"><div class="flex items-center gap-2"><div class="w-2 h-2 bg-orange-400"></div> Missing features</div><span class="font-bold">25%</span></div>
                                 <div class="flex justify-between text-xs"><div class="flex items-center gap-2"><div class="w-2 h-2 bg-slate-300"></div> Other</div><span class="font-bold">40%</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW 6: APPEARANCE (FLAT) -->
            <div id="page-appearance" class="fade-in hidden">
                <div class="mb-8">
                    <h2 class="text-xl font-bold text-slate-900 tracking-tight">Appearance</h2>
                    <p class="text-sm text-slate-500 mt-1">Customize how the dashboard looks and feels on your device.</p>
                </div>
                <div class="max-w-2xl">
                    <!-- Theme Selector -->
                    <div class="bg-white border border-slate-200 shadow-sm p-6 mb-6">
                        <h3 class="font-bold text-slate-800 text-sm mb-4">Interface Theme</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <!-- Light Mode -->
                            <div class="cursor-pointer group">
                                <div class="h-32 border-2 border-orange-500 bg-slate-50 p-2 relative overflow-hidden">
                                    <div class="h-full w-full bg-white border border-slate-200 shadow-sm flex flex-col">
                                        <div class="h-3 w-full border-b border-slate-100 flex items-center px-1 gap-1">
                                            <div class="w-1 h-1 bg-slate-300"></div>
                                            <div class="w-1 h-1 bg-slate-300"></div>
                                        </div>
                                        <div class="flex-1 p-2 space-y-1">
                                            <div class="w-2/3 h-2 bg-slate-100"></div>
                                            <div class="w-1/2 h-2 bg-slate-100"></div>
                                        </div>
                                    </div>
                                    <div class="absolute bottom-2 right-2 w-5 h-5 bg-orange-500 flex items-center justify-center text-white">
                                        <i data-lucide="check" class="w-3 h-3"></i>
                                    </div>
                                </div>
                                <div class="text-xs font-medium text-slate-700 mt-2 text-center">Light Mode</div>
                            </div>

                            <!-- Dark Mode -->
                            <div class="cursor-pointer group opacity-60 hover:opacity-100 transition-opacity">
                                <div class="h-32 border-2 border-transparent group-hover:border-slate-300 bg-slate-900 p-2 relative overflow-hidden">
                                    <div class="h-full w-full bg-slate-800 border border-slate-700 shadow-sm flex flex-col">
                                        <div class="h-3 w-full border-b border-slate-700 flex items-center px-1 gap-1">
                                            <div class="w-1 h-1 bg-slate-600"></div>
                                            <div class="w-1 h-1 bg-slate-600"></div>
                                        </div>
                                        <div class="flex-1 p-2 space-y-1">
                                            <div class="w-2/3 h-2 bg-slate-700"></div>
                                            <div class="w-1/2 h-2 bg-slate-700"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-xs font-medium text-slate-700 mt-2 text-center">Dark Mode</div>
                            </div>

                            <!-- System -->
                            <div class="cursor-pointer group opacity-60 hover:opacity-100 transition-opacity">
                                <div class="h-32 border-2 border-transparent group-hover:border-slate-300 bg-gradient-to-br from-slate-50 to-slate-900 p-2 relative overflow-hidden flex items-center justify-center">
                                    <i data-lucide="monitor" class="text-slate-400 w-8 h-8"></i>
                                </div>
                                <div class="text-xs font-medium text-slate-700 mt-2 text-center">System Preference</div>
                            </div>
                        </div>
                    </div>

                    <!-- Accent Color (Flat) -->
                    <div class="bg-white border border-slate-200 shadow-sm p-6 mb-6">
                        <h3 class="font-bold text-slate-800 text-sm mb-4">Brand Accent Color</h3>
                        <div class="flex gap-4">
                            <button class="w-8 h-8 bg-orange-500 ring-2 ring-offset-2 ring-orange-500 cursor-default"></button>
                            <button class="w-8 h-8 bg-blue-500 hover:ring-2 hover:ring-offset-2 hover:ring-blue-500 transition-all"></button>
                            <button class="w-8 h-8 bg-violet-500 hover:ring-2 hover:ring-offset-2 hover:ring-violet-500 transition-all"></button>
                            <button class="w-8 h-8 bg-emerald-500 hover:ring-2 hover:ring-offset-2 hover:ring-emerald-500 transition-all"></button>
                            <button class="w-8 h-8 bg-rose-500 hover:ring-2 hover:ring-offset-2 hover:ring-rose-500 transition-all"></button>
                        </div>
                        <p class="text-xs text-slate-400 mt-3">This color will be used for buttons, active states, and highlights.</p>
                    </div>

                    <!-- Density (Flat Toggle) -->
                    <div class="bg-white border border-slate-200 shadow-sm p-6">
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <h3 class="font-bold text-slate-800 text-sm">Compact Mode</h3>
                                <p class="text-xs text-slate-500">Reduce whitespace for higher data density</p>
                            </div>
                            <!-- Simple Toggle -->
                            <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                                <input type="checkbox" name="toggle" id="toggle-density" class="toggle-checkbox absolute block w-5 h-5 bg-white border-4 appearance-none cursor-pointer border-slate-300"/>
                                <label for="toggle-density" class="toggle-label block overflow-hidden h-5 bg-slate-300 cursor-pointer"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW 7: ACCOUNT SETTINGS (FLAT) -->
            <div id="page-account" class="fade-in hidden">
                <div class="mb-8">
                    <h2 class="text-xl font-bold text-slate-900 tracking-tight">Account Settings</h2>
                    <p class="text-sm text-slate-500 mt-1">Manage your personal information and security preferences.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Left: Profile Form (2/3) -->
                    <div class="lg:col-span-2 space-y-6">
                        
                        <!-- Profile Card -->
                        <div class="bg-white border border-slate-200 shadow-sm p-6">
                            <h3 class="font-bold text-slate-800 text-sm mb-6 pb-4 border-b border-slate-100">Public Profile</h3>
                            
                            <div class="flex items-start gap-6 mb-6">
                                <div class="w-20 h-20 bg-slate-100 flex items-center justify-center border border-slate-200 text-slate-400 text-xl font-bold shrink-0 relative group cursor-pointer">
                                    JD
                                    <div class="absolute inset-0 bg-black/50 flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity text-[10px]">
                                        Change
                                    </div>
                                </div>
                                <div class="space-y-4 flex-1">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-xs font-semibold text-slate-500 mb-1.5">First Name</label>
                                            <input type="text" value="John" class="w-full px-3 py-2 border border-slate-200 text-sm focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors">
                                        </div>
                                        <div>
                                            <label class="block text-xs font-semibold text-slate-500 mb-1.5">Last Name</label>
                                            <input type="text" value="Doe" class="w-full px-3 py-2 border border-slate-200 text-sm focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors">
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs font-semibold text-slate-500 mb-1.5">Role / Job Title</label>
                                        <input type="text" value="Administrator" class="w-full px-3 py-2 border border-slate-200 text-sm focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex justify-end">
                                <button class="px-4 py-2 bg-slate-900 text-white text-sm font-medium hover:bg-slate-800 transition-colors">Save Changes</button>
                            </div>
                        </div>

                        <!-- Email Card -->
                        <div class="bg-white border border-slate-200 shadow-sm p-6">
                            <h3 class="font-bold text-slate-800 text-sm mb-6 pb-4 border-b border-slate-100">Contact Email</h3>
                            <div class="flex items-center gap-4 justify-between">
                                <div>
                                    <p class="text-sm font-medium text-slate-900">john.doe@insightfy.ai</p>
                                    <p class="text-xs text-slate-500 mt-0.5">This email will be used for account notifications and login.</p>
                                </div>
                                <button class="text-xs text-slate-500 border border-slate-200 px-3 py-1.5 hover:bg-slate-50">Edit</button>
                            </div>
                        </div>

                    </div>

                    <!-- Right: Security & Prefs (1/3) -->
                    <div class="space-y-6">
                        
                        <!-- Security -->
                        <div class="bg-white border border-slate-200 shadow-sm p-6">
                            <h3 class="font-bold text-slate-800 text-sm mb-4">Security</h3>
                            <div class="space-y-4">
                                <button class="w-full text-left px-3 py-2.5 border border-slate-100 hover:border-slate-300 hover:bg-slate-50 transition-all flex justify-between items-center group">
                                    <span class="text-sm text-slate-600 group-hover:text-slate-900">Change Password</span>
                                    <i data-lucide="chevron-right" class="w-4 h-4 text-slate-300"></i>
                                </button>
                                <button class="w-full text-left px-3 py-2.5 border border-slate-100 hover:border-slate-300 hover:bg-slate-50 transition-all flex justify-between items-center group">
                                    <span class="text-sm text-slate-600 group-hover:text-slate-900">Two-Factor Auth</span>
                                    <span class="text-[10px] bg-emerald-100 text-emerald-700 px-2 py-0.5 font-bold">ENABLED</span>
                                </button>
                            </div>
                        </div>

                        <!-- Notifications -->
                        <div class="bg-white border border-slate-200 shadow-sm p-6">
                            <h3 class="font-bold text-slate-800 text-sm mb-4">Notifications</h3>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-slate-600">Weekly Reports</span>
                                    <div class="relative inline-block w-8 align-middle select-none">
                                        <input type="checkbox" checked class="toggle-checkbox absolute block w-4 h-4 bg-white border-2 appearance-none cursor-pointer border-slate-300"/>
                                        <label class="toggle-label block overflow-hidden h-4 bg-slate-300 cursor-pointer"></label>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-slate-600">Product Updates</span>
                                    <div class="relative inline-block w-8 align-middle select-none">
                                        <input type="checkbox" checked class="toggle-checkbox absolute block w-4 h-4 bg-white border-2 appearance-none cursor-pointer border-slate-300"/>
                                        <label class="toggle-label block overflow-hidden h-4 bg-slate-300 cursor-pointer"></label>
                                    </div>
                                </div>
                                 <div class="flex justify-between items-center">
                                    <span class="text-sm text-slate-600">Security Alerts</span>
                                    <div class="relative inline-block w-8 align-middle select-none">
                                        <input type="checkbox" checked disabled class="toggle-checkbox absolute block w-4 h-4 bg-white border-2 appearance-none cursor-not-allowed border-slate-300 right-0 border-emerald-500"/>
                                        <label class="toggle-label block overflow-hidden h-4 bg-emerald-500 cursor-not-allowed"></label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Danger Zone -->
                        <div class="pt-4 border-t border-slate-100">
                            <button class="text-xs text-rose-500 hover:text-rose-700 font-medium">Delete Account</button>
                        </div>

                    </div>
                </div>
            </div>

            <!-- VIEW 8: FORM ELEMENTS (NEW) -->
            <div id="page-form" class="fade-in hidden">
                <!-- Header -->
                <div class="mb-8">
                    <h2 class="text-xl font-bold text-slate-900 tracking-tight">Form Components</h2>
                    <p class="text-sm text-slate-500 mt-1">Comprehensive collection of flat-style input controls and UI elements.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    
                    <!-- LEFT COLUMN: INPUTS & TEXT AREAS -->
                    <div class="space-y-8">
                        
                        <!-- Text Inputs -->
                        <div class="bg-white border border-slate-200 shadow-sm p-6">
                            <h3 class="font-bold text-slate-800 text-sm mb-6 pb-2 border-b border-slate-100">Input Fields</h3>
                            <div class="space-y-5">
                                <!-- Basic -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-1.5">Basic Input</label>
                                    <input type="text" placeholder="Type something..." class="w-full px-3 py-2 border border-slate-200 text-sm focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors placeholder-slate-400">
                                </div>
                                <!-- With Icon -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-1.5">With Icon</label>
                                    <div class="relative">
                                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                            <i data-lucide="search" class="w-4 h-4 text-slate-400"></i>
                                        </div>
                                        <input type="text" placeholder="Search..." class="w-full pl-10 px-3 py-2 border border-slate-200 text-sm focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors placeholder-slate-400">
                                    </div>
                                </div>
                                <!-- With Helper -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-1.5">With Helper Text</label>
                                    <input type="email" placeholder="name@example.com" class="w-full px-3 py-2 border border-slate-200 text-sm focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors placeholder-slate-400">
                                    <p class="text-[10px] text-slate-400 mt-1">We'll never share your email with anyone else.</p>
                                </div>
                                <!-- Error State -->
                                <div>
                                    <label class="block text-xs font-semibold text-rose-500 mb-1.5">Error State</label>
                                    <input type="text" value="Invalid Value" class="w-full px-3 py-2 border border-rose-300 text-rose-600 text-sm focus:outline-none focus:border-rose-500 focus:ring-1 focus:ring-rose-500 transition-colors">
                                    <p class="text-[10px] text-rose-500 mt-1">This field is required.</p>
                                </div>
                                <!-- Disabled -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-400 mb-1.5">Disabled Input</label>
                                    <input type="text" value="Disabled content" disabled class="w-full px-3 py-2 border border-slate-100 bg-slate-50 text-slate-400 text-sm cursor-not-allowed">
                                </div>
                            </div>
                        </div>

                        <!-- Text Area -->
                        <div class="bg-white border border-slate-200 shadow-sm p-6">
                            <h3 class="font-bold text-slate-800 text-sm mb-6 pb-2 border-b border-slate-100">Text Area</h3>
                            <div>
                                <label class="block text-xs font-semibold text-slate-500 mb-1.5">Description</label>
                                <textarea rows="4" placeholder="Enter detailed description..." class="w-full px-3 py-2 border border-slate-200 text-sm focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 transition-colors placeholder-slate-400 resize-none"></textarea>
                            </div>
                        </div>

                        <!-- Input Groups -->
                        <div class="bg-white border border-slate-200 shadow-sm p-6">
                            <h3 class="font-bold text-slate-800 text-sm mb-6 pb-2 border-b border-slate-100">Input Groups</h3>
                            <div class="space-y-4">
                                <!-- Prepend -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-1.5">Website URL</label>
                                    <div class="flex">
                                        <span class="inline-flex items-center px-3 border border-r-0 border-slate-200 bg-slate-50 text-slate-500 text-sm">https://</span>
                                        <input type="text" placeholder="www.example.com" class="flex-1 min-w-0 block w-full px-3 py-2 border border-slate-200 text-sm focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500">
                                    </div>
                                </div>
                                <!-- Append -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-1.5">Price</label>
                                    <div class="flex">
                                        <input type="text" placeholder="0.00" class="flex-1 min-w-0 block w-full px-3 py-2 border border-slate-200 text-sm focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500">
                                        <span class="inline-flex items-center px-3 border border-l-0 border-slate-200 bg-slate-50 text-slate-500 text-sm">USD</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- RIGHT COLUMN: SELECTION & BUTTONS -->
                    <div class="space-y-8">
                        
                        <!-- Select & Dropdowns -->
                        <div class="bg-white border border-slate-200 shadow-sm p-6">
                            <h3 class="font-bold text-slate-800 text-sm mb-6 pb-2 border-b border-slate-100">Selection Controls</h3>
                            <div class="space-y-5">
                                <!-- Native Select -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-1.5">Native Select</label>
                                    <select class="w-full px-3 py-2 border border-slate-200 text-sm bg-white focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 cursor-pointer">
                                        <option>Choose an option...</option>
                                        <option>Option 1</option>
                                        <option>Option 2</option>
                                        <option>Option 3</option>
                                    </select>
                                </div>
                                
                                <!-- Checkboxes -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-2">Checkboxes</label>
                                    <div class="space-y-2">
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" class="custom-checkbox">
                                            <span class="text-sm text-slate-600">Remember me</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" checked class="custom-checkbox">
                                            <span class="text-sm text-slate-600">Subscribe to newsletter</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-not-allowed opacity-60">
                                            <input type="checkbox" disabled class="custom-checkbox">
                                            <span class="text-sm text-slate-600">Disabled option</span>
                                        </label>
                                    </div>
                                </div>

                                <!-- Radio Buttons -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-2">Radio Buttons</label>
                                    <div class="space-y-2">
                                        <label class="flex items-center gap-2 cursor-pointer group">
                                            <div class="relative flex items-center">
                                                <input type="radio" name="radio-group" class="peer h-4 w-4 appearance-none border border-slate-300 rounded-full checked:border-orange-500 checked:bg-white focus:ring-1 focus:ring-orange-500">
                                                <div class="absolute w-2 h-2 rounded-full bg-orange-500 top-1 left-1 opacity-0 peer-checked:opacity-100 transition-opacity"></div>
                                            </div>
                                            <span class="text-sm text-slate-600">Email Only</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer group">
                                            <div class="relative flex items-center">
                                                <input type="radio" name="radio-group" checked class="peer h-4 w-4 appearance-none border border-slate-300 rounded-full checked:border-orange-500 checked:bg-white focus:ring-1 focus:ring-orange-500">
                                                <div class="absolute w-2 h-2 rounded-full bg-orange-500 top-1 left-1 opacity-0 peer-checked:opacity-100 transition-opacity"></div>
                                            </div>
                                            <span class="text-sm text-slate-600">Email & SMS</span>
                                        </label>
                                    </div>
                                </div>

                                <!-- Toggles -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-2">Toggles</label>
                                    <div class="flex items-center gap-4">
                                        <div class="relative inline-block w-10 align-middle select-none">
                                            <input type="checkbox" name="toggle" id="toggle-1" class="toggle-checkbox absolute block w-5 h-5 bg-white border-4 appearance-none cursor-pointer border-slate-300"/>
                                            <label for="toggle-1" class="toggle-label block overflow-hidden h-5 bg-slate-300 cursor-pointer"></label>
                                        </div>
                                        <div class="relative inline-block w-10 align-middle select-none">
                                            <input type="checkbox" checked name="toggle" id="toggle-2" class="toggle-checkbox absolute block w-5 h-5 bg-white border-4 appearance-none cursor-pointer border-slate-300"/>
                                            <label for="toggle-2" class="toggle-label block overflow-hidden h-5 bg-slate-300 cursor-pointer"></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Special Inputs -->
                        <div class="bg-white border border-slate-200 shadow-sm p-6">
                            <h3 class="font-bold text-slate-800 text-sm mb-6 pb-2 border-b border-slate-100">Special Inputs</h3>
                            <div class="space-y-5">
                                <!-- File Upload -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-1.5">File Upload</label>
                                    <input type="file" class="block w-full text-sm text-slate-500
                                      file:mr-4 file:py-2 file:px-4
                                      file:border-0 file:text-sm file:font-semibold
                                      file:bg-slate-100 file:text-slate-700
                                      hover:file:bg-slate-200 cursor-pointer
                                    "/>
                                </div>
                                <!-- Date Picker -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-1.5">Date Picker</label>
                                    <input type="date" class="w-full px-3 py-2 border border-slate-200 text-sm focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500 text-slate-600">
                                </div>
                                <!-- Range Slider -->
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-1.5">Range Slider</label>
                                    <input type="range" class="w-full h-2 bg-slate-200 appearance-none cursor-pointer accent-orange-500">
                                </div>
                            </div>
                        </div>

                        <!-- Buttons -->
                        <div class="bg-white border border-slate-200 shadow-sm p-6">
                            <h3 class="font-bold text-slate-800 text-sm mb-6 pb-2 border-b border-slate-100">Buttons</h3>
                            <div class="flex flex-wrap gap-3 mb-4">
                                <button class="px-4 py-2 bg-orange-500 text-white text-sm font-medium hover:bg-orange-600 transition-colors shadow-sm shadow-orange-200">Primary</button>
                                <button class="px-4 py-2 bg-slate-800 text-white text-sm font-medium hover:bg-slate-900 transition-colors shadow-sm">Secondary</button>
                                <button class="px-4 py-2 bg-white border border-slate-200 text-slate-600 text-sm font-medium hover:bg-slate-50 transition-colors">Outline</button>
                                <button class="px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-100 transition-colors">Ghost</button>
                            </div>
                            <div class="flex flex-wrap gap-3 items-center">
                                <button class="px-2 py-1 bg-orange-500 text-white text-xs font-medium hover:bg-orange-600 transition-colors">Small</button>
                                <button class="px-4 py-2 bg-orange-500 text-white text-sm font-medium hover:bg-orange-600 transition-colors">Default</button>
                                <button class="px-6 py-3 bg-orange-500 text-white text-base font-medium hover:bg-orange-600 transition-colors">Large</button>
                                <button class="px-4 py-2 bg-rose-500 text-white text-sm font-medium hover:bg-rose-600 transition-colors flex items-center gap-2">
                                    <i data-lucide="trash-2" class="w-4 h-4"></i> With Icon
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Script to Initialize Icons and Navigation Logic -->
    <script>
        // 1. Initialize Lucide Icons
        lucide.createIcons();

        // 2. Mobile Sidebar Toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            
            if (sidebar.classList.contains('-translate-x-full')) {
                // Open Sidebar
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
                setTimeout(() => overlay.classList.remove('opacity-0'), 10); // Fade in effect
            } else {
                // Close Sidebar
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('hidden');
            }
        }

        // 3. Submenu Toggle Logic
        function toggleSubmenu(elementId, trigger) {
            const submenu = document.getElementById(elementId);
            submenu.classList.toggle('hidden');
            
            const icon = trigger.querySelector('svg:last-child');
            if (icon) {
                icon.classList.toggle('rotate-180');
            }
        }

        // 4. Navigation Logic (SPA Switcher)
        function switchPage(pageName) {
            // Mobile: Close sidebar automatically when a link is clicked
            const sidebar = document.getElementById('sidebar');
            if (window.innerWidth < 1024 && !sidebar.classList.contains('-translate-x-full')) {
                toggleSidebar();
            }

            // -- A. Handle Sidebar Active States --
            
            const mainNavItems = {
                'overview': document.getElementById('btn-overview'),
                'conversion': document.getElementById('btn-conversion'),
                'marketing': document.getElementById('btn-marketing'),
                'ads': document.getElementById('btn-ads'),
                'form': document.getElementById('btn-form'), // New
                'appearance': document.getElementById('btn-appearance'),
                'account': document.getElementById('btn-account')
            };

            const submenuItems = {
                'cohort': document.getElementById('btn-cohort'),
                'lifecycle': document.getElementById('btn-lifecycle')
            };

            // Reset Main Nav Items
            Object.values(mainNavItems).forEach(item => {
                if(!item) return;
                item.classList.remove('bg-orange-50', 'text-orange-600', 'cursor-default', 'active');
                item.classList.add('text-slate-500', 'hover:bg-slate-50', 'hover:text-slate-900');
                
                const icon = item.querySelector('svg');
                if(icon) {
                    icon.classList.remove('text-orange-500');
                    icon.classList.add('text-slate-400');
                }

                const dot = item.querySelector('.indicator');
                if(dot) dot.remove();
            });

            // Reset Submenu Items
            Object.values(submenuItems).forEach(item => {
                if(!item) return;
                item.classList.remove('text-orange-600', 'font-semibold', 'border-orange-500');
                item.classList.add('text-slate-500', 'hover:text-orange-600', 'border-transparent');
            });

            // Set Active Item
            if (mainNavItems[pageName]) {
                const activeItem = mainNavItems[pageName];
                activeItem.classList.remove('text-slate-500', 'hover:bg-slate-50', 'hover:text-slate-900');
                activeItem.classList.add('bg-orange-50', 'text-orange-600', 'cursor-default', 'active');
                
                const icon = activeItem.querySelector('svg');
                if(icon) {
                    icon.classList.remove('text-slate-400');
                    icon.classList.add('text-orange-500');
                }

                const dot = document.createElement('div');
                dot.className = 'w-1.5 h-1.5 bg-orange-500 shadow-sm indicator ml-auto';
                activeItem.appendChild(dot);
            } 
            else if (submenuItems[pageName]) {
                const activeItem = submenuItems[pageName];
                activeItem.classList.remove('text-slate-500', 'hover:text-orange-600', 'border-transparent');
                activeItem.classList.add('text-orange-600', 'font-semibold', 'border-orange-500');
            }

            // -- B. Handle Page Content Visibility --
            
            const allPages = [
                'page-overview', 'page-conversion', 'page-marketing', 
                'page-ads', 'page-cohort', 'page-lifecycle', 
                'page-appearance', 'page-account', 'page-form' // Added new page
            ];

            allPages.forEach(id => {
                const el = document.getElementById(id);
                if(el) el.classList.add('hidden');
            });

            const targetPage = document.getElementById('page-' + pageName);
            if(targetPage) {
                targetPage.classList.remove('hidden');
                targetPage.classList.remove('fade-in');
                void targetPage.offsetWidth; 
                targetPage.classList.add('fade-in');
            }
            
            // Re-init lucide icons for new content if needed
            lucide.createIcons();
        }
    </script>
</body>
</html>